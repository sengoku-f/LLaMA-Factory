[
  {
    "text": "# Web接口\n## Web通用接口\n默认勾选。\n- 勾选：则第三方可以调用我们系统的 web 通用接口；\n- 不勾选：则第三方不可以调用我们系统的 web 通用接口。\n## Token校验IP地址\n此项主要运用于第三方调用，默认勾选。\n- 勾选：第三方调用在哪台机器上获取的 Token，就只能在这台机器上使用这个 Token 进行调用；\n- 不勾选：则获取到的 Token 可以在其他机器上使用。\n## Web查询接口\n默认不勾选。\n- 勾选：则第三方可以调用我们系统的 web 查询接口；\n- 不勾选：则第三方不可以调用我们系统的 web 查询接口。\n## 检查流程接口权限\n默认不勾选。\n- 勾选：普通用户在调用执行流程接口时，会检查是否有该流程的执行权限，若在【角色管理】界面未给普通用户赋予该流程的权限，则调用执行流程接口时返回“流程图没有执行的权限”提示；\n- 不勾选：普通用户在调用执行流程接口时，无论在【角色管理】）界面是否给普通用户赋予该流程的权限，都能正常执行流程。\n  >**[info] 提示**\n  >\n  > &emsp;设置之后只对执行流程做限制，其余接口未受限制。\n## 启用接口授权码\n默认不勾选。\n- 勾选：在用户管理界面新增/修改按钮，在“新增/修改人员”弹框中出现授权密码文本框，在此文本框中输入密码后，单击确定按钮，则会在数据库生成一个 AuthCode 字段，请求接口时可以使用这个字段去请求， AuthCode 对应的值是k_user表中的 AuthPass 字段，可通过数据库函数查询得到；\n- 不勾选：则接口调用传参不使用 AuthCode。\n## 流程参数入库\n默认不启用。\n启用后，可将流程参数写入配置的数据库中。 例如： \n1. 单击“点击设置”按钮，在弹出框中勾选“启用”，配置好数据库连接，单击“确定”按钮。 \n2. 在【组件管理】界面新建一个组件，在组件中添加中文脚本函数“设置流程参数入库”，并填写需要入库的参数名称和参数值，保存组件并审核。\n3. 在【流程设计】界面，新建一个流程图，组件节点选择步骤2中新建的组件，保存后执行该流程。\n4. 可在数据库的 k_rpa_chatparams 表中查询到写入的流程参数。\n## 连接池检查token\n当 Server 对接 K-API  平台时，若调用 API 统计页面的接口后返回时间过长，则可通过勾选此项来解决，默认不勾选。\n- 勾选：优化 K-API 平台中， API 统计页面的接口调用返回时间过长问题。如调用“执行组件（TSystemDM.CallComponent）”接口和“批量异步调用（TSystemDM.CallBatchFunction）”接口后，返回结果的时间过长，则勾选此项后用户可以更快在 API 统计界面看到返回结果；\n- 不勾选：可能会出现 K-API 平台调用相关接口时，等待返回结果时间过长的现象。\n## 禁用web页面\n默认不勾选。\n- 勾选：无法登录 http://服务器IP:port/web/login.html 地址访问网页版控制台；\n- 不勾选：可以登录 http://服务器IP:port/web/login.html 地址访问网页版控制台。\n## 不主动推送消息到web端\n该配置需搭配`网页WebSocket推送`配置项一起使用，且仅在已勾选`网页WebSocket推送`的情况下方可生效。\n- 勾选`不主动推送消息到web端`，仅对 web 端流程接管页面主动推送消息，其余 web 端页面（如执行历史/实时事件/事件查询等页面）则需手动刷新后才推送消息；\n- 不勾选`不主动推送消息到web端`，正常对所有 web 端页面主动推送消息，默认不勾选。\n>**[info] 提示**\n>\n> &emsp;流程接管页面：流程设计-流程运行时页面，流程视图-流程运行时页面，流程接管-查看等所有能接管流程的页面。 "
  },
  {
    "text": "# 其他\n## 同步时间设置\n进行完同步时间设置后，可以在【任务配置】里部署好时间同步任务，执行时间同步任务时就会按照这个设置来执行。\n## 组件Git管理\n默认不启用。\n启用并填写好相关信息后，可以把组件提交到 Git 服务器里，不启用则无法提交组件到 Git 服务器里。\n## 令牌超时(分钟)\n可自由设置令牌超时的时间，默认令牌的有效时间为30分钟，超过30分钟后令牌将失效。\n## 启用禁止root用户功能\n默认不勾选。\n启用后禁止 root 用户执行 linuxshell 组件，影响范围为：组件管理，批量任务和流程任务。启用之后还可以在权限管理-组件权限的 root 权限进行对组件维度的控制。\n## 打印全局参数日志\n默认不勾选。\n- 勾选：执行函数“获取全局参数”，将写入操作日志；\n- 不勾选：则不写入。\n## 记录接口执行情况\n默认不勾选。\n- 勾选，则进行接口调用操作时，会将调用接口的请求信息记录到 “k_rpa_interface” 数据库表中，用户可以通过查询此表验证接口是否成功。具体验证方法如下：\n  入库：\n  ```\n  select * from k_rpa_interface      \n  ```\n   检查方法：   \n  ```\n  [{\"Value\":\"THttpDM\",\"Type\":4,\"Name\":\"{9F8E5ECB-5976-4315-B8F3-43B8502B694D}\"},\n  {\"Value\":\"DB7F6\",\"Type\":4,\"Name\":\"RPAID\"},\n  {\"Value\":\"20210811\",\"Type\":4,\"Name\":\"DBDate\"},\n  {\"Value\":true,\"Type\":1,\"Name\":\"GetReturn\"},\n  {\"Name\": \"AppName\",\"Type\": 4,\"Value\": \"AppName\"},\n  {\"Name\": \"AppPass\",\"Type\": 4,\"Value\": \"AppPass\"},\n  {\"Value\":\"GetRpaInterface\",\"Type\":4,\"Name\":\"{2881E26D-62CE-4937-B4BB-8998440417C4}\"}]\n  ```\n   请求接口加 RPAID，每次传唯一值过来。然后通过检查方法查询接口是否成功。\n  >**[info] 提示**\n  >\n  > &emsp;在 msyql 数据库如果 rpaid 传相同值过来，会插入相同的值。 \n- 不勾选，则进行接口调用操作时，不记录相关请求信息。\n## 需求复核启用密码\n默认勾选。\n在银行运营平台、基金运营平台，在【需求系统】界面：\n- 若勾选`需求复核启用密码`，则当需求处理流程从需求初审节点开始，均要进行密码确认；\n- 若不勾选`需求复核启用密码`，则需求处理流程节点均不需要进行密码确认。\n## 启用商品付款\n默认不勾选。\n在银行运营平台、基金运营平台，对于需要付款的商品：\n- 如勾选`启用商品付款`，则在【在线商店】申请使用该需要付款的商品时，要先支付才能申请使用；\n- 若不勾选`启用商品付款`，则在【在线商店】申请使用该需要付款的商品时，不需要付款，也可以申请使用该商品。\n## UIAutomation迭代器遍历\n默认情况下，不勾选；如无必要，不建议启用此选项。\n- 不勾选`UIAutomation迭代器遍历`选项，则采用原来的方式遍历元素；\n- 勾选`UIAutomation迭代器遍历`，则使用迭代器方式遍历。迭代器方式遍历，主要是解决优化长时间使用可能导致的卡顿问题。\n  >**[info] 提示**\n  >\n  > &emsp;两种遍历方式，相同索引对应的元素可能不一致。\n## 压缩转存邮件格式\n可以填写内容设置压缩转存邮件格式。\n## 压缩转存短信格式\n可以填写内容设置压缩转存短信格式。\n## 批量任务邮件格式\n可以填写内容设置敏捷任务（批量任务）邮件格式。\n## 批量任务短信格式\n可以填写内容设置敏捷任务（批量任务）短信格式。\n## 批量任务执行限制\n该功能主要影响【任务管理】-【任务配置】下敏捷任务（批量任务）的执行和查看。\n- 勾选“启用”批量任务执行限制\n  - 当设置某一时间段允许执行时，则所有敏捷任务（批量任务）只能在该指定时间段执行，若“不限制配置”项内勾选了某敏捷任务（批量任务），则该任务不受时间段限制。\n  - 当设置某一时间段不允许执行时，则所有敏捷任务（批量任务）在该指定时间段不能执行，若“不限制配置”项内勾选了某敏捷任务（批量任务），则该任务不受时间段限制。\n    例如：下图中，勾选启用后，设置8：00-10：00时间段内为允许执行，则所有敏捷任务（批量任务）只能在该时间段内允许执行。\n    > **[info]“节假日”项说明**\n    >\n    > &emsp;选择当前系统适用的节假日方案，方案来源于【日历配置】的节假日方案。系统默认不选，不选则不受节假日方案限制。\n    ![image-20230621152729490](other.assets/image-20230621152729490.png)\n    在超出允许执行时间段执行敏捷任务（批量任务）时，敏捷任务（批量任务）执行失败。\n    ![image-20230621153816171](other.assets/image-20230621153816171.png)\n    若“不限制配置”项内勾选了 “test” 任务，则 “test” 任务不受时间段限制。\n    ![image-20230621154734483](other.assets/image-20230621154734483.png)\n    在超出允许执行时间段执行批量任务时，“test” 任务可执行。\n    ![image-20230621155201399](other.assets/image-20230621155201399.png)\n- 不勾选“启用”批量任务执行限制，则该功能不生效。\n## 组件任务执行限制\n该功能主要影响【设计管理】-【作业设计】下组件任务的执行和查看。\n> **[warning] 注意**\n>\n> &emsp;K-RPA 系统不支持该功能，该功能需要在具有【组件任务】菜单的系统下，才能使用。\n- 勾选“启用”组件任务执行限制\n  - 当设置某一时间段允许执行时，则所有组件任务只能在该指定时间段执行，若“不限制配置”项内勾选了某组件任务，则该任务不受时间段限制。\n  - 当设置某一时间段不允许执行时，则所有组件任务在该指定时间段不能执行，若“不限制配置”项内勾选了某组件任务，则该任务不受时间段限制。\n    > **[info]“节假日”项说明**\n    >\n    > &emsp;选择当前系统适用的节假日方案，方案来源于【日历配置】的节假日方案。系统默认不选，不选则不受节假日方案限制。\n    例如：如下图所示，勾选启用后设置8：00-10：00时间段内为允许执行，则所有组件任务只能在该时间段内允许执行。\n    ![image-20240620111709489](other.assets/image-20240620111709489.png)\n    在超出允许执行时间段执行组件任务时，组件任务执行失败。\n    ![image-20240620115544075](other.assets/image-20240620115544075.png)\n    若“不限制配置”项内勾选了 “组件任务test” 任务，则 “组件任务test” 任务不受时间段限制。即在超出允许执行时间段执行组件任务时，“组件任务test” 任务可执行，执行结果如下图所示。\n    ![image-20240620140046381](other.assets/image-20240620140046381.png)\n    ![image-20240620141120483](other.assets/image-20240620141120483.png)\n- 不勾选“启用”组件任务执行限制，则该功能不生效\n## 组件任务邮件格式\n> **[warning] 注意**\n>\n> &emsp;K-RPA 系统不支持该功能，该功能需要在具有【组件任务】菜单的系统下，才能使用。\n可以填写内容设置组件任务邮件格式。\n## 组件任务短信格式\n> **[warning] 注意**\n>\n> &emsp;K-RPA 系统不支持该功能，该功能需要在具有【组件任务】菜单的系统下，才能使用。\n可以填写内容设置组件任务短信格式。\n## 分库共享目录\n此配置项为定制化开发，只有具有分库功能才会使用到。\n## 通讯加密\n内部使用。\n## 权限启用分级管理\n默认不勾选。\n- 勾选则【角色管理】界面提供树状层级的功能，实现分级控制权限，即二级权限的用户能够给三级权限的角色分配自身已有的权限；\n- 不勾选则不支持分级控制权限。\n## 非admin用户不能操作根目录\n默认不勾选。\n当勾选了`非 admin 用户不能操作根目录`，则在根目录下不能进行新建、编辑、删除的操作，也不能在其他分组新建好分组之后，拖动到根目录下。\n>**[warning] 注意**\n>\n> &emsp;该功能涉及的模块：组件管理、流程管理、流程参数组、用户管理、角色管理、报表、报告、大屏。\n## 启用用户管理\n默认不勾选。\n- 勾选了启用用户管理之后，权限管理增加用户管理权限，用户管理根据权限显示，人员关系依赖用户管理权限。（即选择人员关系之前，需要先赋予用户管理权限）；\n- 不勾选则无需进行用户管理权限控制，人员关系不依赖用户管理权限。\n## 批量任务超时设置(分钟)\n默认30分钟，按 F2 键可以自定义设置批量任务执行超时时间，单位：分钟\n## 复制粘贴不立即生效\n默认不勾选。\n该功能生效的对象为对象设置的指标和操作。启用“复制粘贴不立即生效”，进入资源池界面，选择一个机器下的应用右键进行复制，粘贴到另一个机器上，应用下的操作和指标都为需要审核的状态。\n## SDP交易监控\n默认不勾选。\n勾选 SDP 交易监控，在 Server.exe 或者 aomserver 目录下会生成一个 TansLog 目录，里面记录相关日志。\n## 启用交易查询\n太平洋资产专用的交易查询功能，默认不勾选。\n## 中信证券呼叫中心\n只有中信证券会运用到此功能，配置好相关信息即可进行呼叫。\n## 查询天数限制\n默认不启用。\n启用，则可以设置【实时事件】、【事件查询】和【指标监视】界面的查询天数限制，不启动则设置不生效。\n## 负载均衡F5\n默认不启用。\n手动控制集群。选择启用”正常“】会自动在 server 目录下面生成 F5.html 文件，并把启用”正常“文本框里面的内容写到 F5.html 文件里面，选择启用”故障“会自动在server目录下面生成 F5.html 文件，并把启用”故障“文本框里面的内容写到 F5.html 文件里面，选择关闭，会删除 F5.html 文件。\n## 执行脚本前关闭windows更新弹窗\n默认不勾选。\n若脚本执行前机器有 Windows 更新窗口出现：\n- 勾选此开关，则执行脚本前会关闭 Windows 更新窗口；\n- 不勾选此开关则 Windows 更新窗口不会被关闭。\n  > **[warning] 注意**\n  >\n  >  &emsp;若已勾选此开关，但是是在脚本执行过程中出现 Windows 更新窗口，则 Windows更新窗口是不会被关闭。\n## admin新建组件流程所有角色只读\n默认不勾选。\n勾选此按钮，admin 新建的组件流程其他所有角色有只读权限，包括 admin 导入。\n## 文件传输通道设置\n默认不启用。\n该功能是通过配置 FTP 的相关连接配置，采用 FTP 的传输协议进行通道传输，主要是配合上传文件_带通道、下载代理文件_带通道和下载代理文件夹_带通道等后缀有带通道的相关函数脚本进行使用。\n点击设置，勾选启用 FTP 传输，填写 ftp 的 ip 地址，用户名，密码，端口，目录进行连接。其中，目录不能为空，填写的为 ftp 服务器共享根目录下的文件夹名称，例如：C:\\ftp 根目录 \\LYXX，那么，目录只需填写 LYXX，单击 即可保存相关设置。\n## 向导聊天助手设置\n使用该功能，要先进行 KChatBot 的安装配置，具体的配置方法请参考《KChatBot安装配置教程》。\n待环境配置完成后，进行【系统设置】的配置：\n1. 单击【点击设置】，进行 IP 和端口的配置。此处的 IP 指的是当前运行机器的 IP，端口默认是8050。\n2. 【系统设置】界面配置完成后，在【组件管理】界面，增加一个脚本向导的组件，进入脚本向导组件编辑界面，单击【向导助手】，会弹出一个机器人聊天界面弹框，在该弹框中可与机器人进行对话，把想要进行的操作告知机器人后，机器人将会根据操作内容生成对应的脚本向导组件，最后可直接执行所生成的脚本向导组件即可。\n   如下场景示例：\n   - 如想要进行发送邮件的操作，则可直接告知机器人：我要发送邮件；\n   - 如想要进行打开 word 文档的操作，则可直接告知机器人：打开 word 文档。（注意：在告知机器人操作后，后续根据机器人的提示进行相应的操作即可。）\n## 用户分类属性\n在此处可以自定义用户的分类属性，多个属性则通过换行区分。\n例如，在此处设置“地方分行”和“分支机构”两个用户属性。设置好后：\n1. 在【用户管理】界面单击”增加“按钮，此时可以看到下拉菜单出现了自定义添加的分类属性，即多出了“增加地方分行”和“增加分支机构”两个菜单。 \n2. 选择分组，此时可以新增刚刚设置的分类属性。例如选中分组后，单击“增加”-“增加地方分行”，此时在弹出的窗口里自定义名称为“珠海分行”，并设置流程和资源权限后单击确定按钮，即新增成功。同时，新增完后可以在【角色管理】界面查看到和刚刚新增同名的角色，即在【角色管理】界面可以查看到名为“珠海分行”的角色，并且刚刚设置的权限就是此角色的权限。 \n3. 在“珠海分行”分类下新建、移动进来的用户，会自动添加到关联的“珠海分行”角色上。\n## 节省工时统计(秒)\n可通过设置节省工时统计（x秒），过滤掉小于 x 秒的流程节省时间。\n- 默认是0，统计所有流程执行历史的节省时间；\n- 如果设置成 x 秒， 则只统计执行耗时大于等于 x 秒的流程执行历史的节省时间。例如：\n  1.  在运营管理平台新建两个需求，一个需求的流程选择执行耗时小于5s的流程，另一个需求的流程选择执行耗时大于5s的流程。 \n  2. 需求发布上线后，从【在线商店】界面申请使用，申请审核通过后，多次运行这两个机器人流程。 \n  3. 打开【个人首页】界面，查看累计节省工时。\n  4. 打开控制台的【系统设置】-其他-节省工时统计(秒)，按 F2 设置为5。\n  5. 再次打开个人首页，查看累计节省工时。\n  6. 通过两次查看进行对比，第二次查看的累计节省工时变少，是由于系统过滤了运行时间小于5s的流程。\n## Web不解析x-forwarded-for字段\n默认不勾选。\n- 勾选时，接口 post 请求不解析 X-Forwarded-for 字段；\n- 不勾选则解析 X-Forwarded-for 字段。 例如：\n  1.  在 postman 工具中 post 请求获取令牌接口，在请求头添加 X-Forwarded-for 字段，且将该字段的值设置成一个虚拟 IP（如192.110.1.23）。 \n  2. 在控制台【系统设置】界面，不勾选 “Web不解析x-forwarded-for字段”。 \n  3. 在 postman 工具发送 post 请求，此时在控制台【操作日志】界面可查看到请求记录，且 IP 地址一列中，显示的 IP 为虚拟 IP。 \n  4. 重启 server 后，进入控制台【系统设置】界面，勾选 “Web不解析x-forwarded-for字段”。\n  5. 在 postman 工具再次发送 post 请求，此时在控制台【操作日志】界面可查看到请求记录，且 IP 地址一列中，显示的 IP 为机器的真实 IP。\n## 问题反馈启用流程\n默认不勾选。\n该功能在银行运营管理平台、基金运营管理平台方可生效。\n- 勾选`问题反馈启用流程`后，在【问题反馈】界面，问题反馈流转流程会根据【模板管理】界面的“问题反馈模板”中设置的模板进行流转；\n- 不勾选则直接按原来的反馈流程进行反馈。\n 具体配置步骤如下：\n1. 在控制台【系统设置】界面，勾选“问题反馈启用流程”，则在【模板管理】界面会生成一个“问题反馈模板”的文件夹；\n2. 在【模板管理】界面，单击“问题反馈模板”文件夹后方的“新增”按钮，在弹出框中填写名称和备注，选择该模板为默认，单击“确定”按钮，即可新增一个问题反馈模板；\n3. 单击该模板后方的“编辑”按钮，在编辑界面设置流转节点，单击“保存”按钮，即该问题反馈模板设置成功；\n4. 在【问题反馈】界面创建问题，则问题将会根据问题模板进行流转。\n## 商品申请启用流程\n默认不勾选。\n在银行运营管理平台、基金运营管理平台：勾选“商品申请启用流程”后，在【申请审核】界面审核申请的商品会根据【模板管理】界面的“商品审核模板”中设置的模板进行流转，不勾选则直接审核商品，不会有流程流转。 例如： \n1. 在【模板管理】界面，单击“商品审核模板”文件夹后方的“新增”按钮，在弹出框中填写名称和备注，选择该模板为默认，单击“确定”按钮，即可新增一个审核模板。\n2. 单击该模板后方的“编辑“按钮，在编辑界面设置流转节点，单击”保存“按钮，即该审核模板设置成功。 \n3. 在控制台【系统设置】界面，勾选“商品申请启用流程”。 \n4. 【应用商店】界面申请商品，然后在【申请审核】界面，审核申请的商品时，会根据【模板管理】界面设置的审核模板进行审核流转，即审核后会流转到下一个审核节点，继续审核，直到审核模板流转完毕才审核完成。\n## 启用Java新检索方法\n默认不勾选。\n- **勾选**：在脚本向导编辑界面，单击”工具“-” Java 插件“，根据弹出的提示安装的 Java 插件为**新版** Java 插件，此时使用向导函数的（如“单击”函数）指明元素功能时，可以根据新的 Java 新检索方法抓取到 Java 类客户端程序中的元素进行相关操作；\n- **不勾选**：在脚本向导编辑界面，单击”工具“-” Java 插件“，根据弹出的提示安装好的 Java 插件为**旧版** Java 插件，此时使用向导函数的（如“单击”函数）指明元素功能时，是根据旧版 Java 插件逻辑抓取 Java 类客户端程序中的元素进行相关操作。\n>**[info] 说明**\n>\n>&emsp;一般在不勾选该配置项，即使用**旧版** Java 插件逻辑无法正常抓取到 Java 类客户端程序中的元素时，会选择勾选该配置进行**新版** Java 插件后，使用新的检索方法去抓取Java 类客户端程序中的元素。\n## 检查组件名称规范\n该功能可设置组件名称规范。\n>**[info] 说明**\n>\n>&emsp;该功能在 **2024-04-28** 及之后的 server 版本中新增默认值，默认组件命名时不允许使用数字开头。\n原版本与 2024-04-28 之后版本区别如下：\n版本\n名称\n默认值\n说明\n原版本\n检查组件名称规范\n无\n默认设置为空即不启用，若设置非空则启用生效\n2024-04-28及之后的 server 版本\n检查组件名称规范\n^[^\\d].*\n默认设置组件命名时不允许使用数字开头，且不能为空\n![image-20240522161430494](other.assets/image-20240522161430494.png)\n具体使用效果如下：\n1. 启用“检查组件名称规范”\n   在【系统设置】-“其他”分组下启用“检查组件名称规范”，即设置组件名称规范的正则表达式，例如设置为：`^(.*示例*$)`，组件名称最后需使用“示例”来命名。\n   ![](other.assets/image-20240307153905018.png)\n2. 检查组件名称规范\n   - 在【组件管理】界面，右键组件/组件分组-单击“检查组件名称规范”后会弹出“检查组件名结果”弹框，列出并标红不符合规范的组件名。\n     > **[info] 说明**\n     >\n     > &emsp;若没有检查出不规范的组件名，则仅弹出“检查组件名完成”提示弹框。\n     ![](other.assets/image-20240307155452470.png)\n     ![](other.assets/image-20240307160228156.png)\n   - 在【组件管理】界面新建/修改组件时，若填写不符合规范的组件名称时，会弹出：“xxx” 不符合组件命名规范 ，请重新输入  的提示框。\n     ![](other.assets/image-20240307161513104.png)\n## 检查变量名称规范\n该功能可设置组件变量&参数命名规范。\n>**[info] 说明**\n>\n>- 该功能在2024-05-21及之后的 Server 版本中新增，默认不启用，若设置保存后则启用生效。\n>- 若【组件管理】/【资源池】页面已打开，则变量&参数命名规则设置保存后需重新打开【组件管理】/【资源池】页面才生效。\n![img](other.assets/1716350381150-e2b5f947-833e-4470-b876-e0263f75ae96.png)\n检查变量名称规范中的变量和参数命名规则分为两种：\n1. 正则表达式：鼠标悬停至![image-20240523102405973](other.assets/image-20240523102405973.png)，即可查看正则表达式示例。![img](other.assets/1716350361450-74cca822-f260-4930-9683-b6d826aba585.png)\n2. 可视化选项：可进行【语言】、【连接符】、【前缀校验】三种设置。![image-20240523102849762](other.assets/image-20240523102849762.png)\n   ①【语言】选项：可选择“支持”和“不支持”，默认选支持，即变量&参数支持中文命名，若选“不支持”，则变量&参数不支持中文命名。\n   ②【连接符**】**选项：可选择“短连接符”和“长连接符”。勾选“短连接符”，变量&参数命名需使用短连接符，如：![企业微信截图_a89d362a-fe69-4532-8279-3032e3129732](other.assets/企业微信截图_a89d362a-fe69-4532-8279-3032e3129732.png)，勾选“长 连接符”，变量&参数命名需使用长连接符，如：![企业微信截图_d5093635-2947-42bc-8fda-7934a49d4034](other.assets/企业微信截图_d5093635-2947-42bc-8fda-7934a49d4034.png)。\n   ③【前缀校验】选项有“启用”和“脚本向导中自动添加”。勾选“启用”，组件变量&参数需使用前缀命名，如：![企业微信截图_a89d362a-fe69-4532-8279-3032e3129732](other.assets/企业微信截图_a89d362a-fe69-4532-8279-3032e3129732.png)。若勾选“脚本向导中自动添加前缀”，则脚本向导会自动添加变量&参数前缀。“脚本向导中自动添加前缀”可自定义设置前缀，例如：类型【TTarget】可自定义设置前缀为【TT】，设置自定义前缀的规则如下列表：\n   >**[warning] 注意**\n   >\n   >- 变量&参数命名规则使用可视化选项时，【连接符】与【前缀校验】选项需联合使用。\n   >\n   >- 可视化变量与可视化参数命名规则均可参考下表。\n   >\n   >  ![img](other.assets/1716368915478-23fbde5a-cf7a-478f-9be4-960f232d5198.png)\n3. 变量&参数命名规则设置示例如下：\n   - 当“变量”页面设置为可视化选项的命名规则，参数选择沿用，则参数命名也使用变量设置的可视化选项的命名规则，若变量&参数命名不合规，编译脚本出现相应的提示。如\n     ![image.png](other.assets/1716365441614-965926c1-e321-408a-8684-4d6ea9909eed-1716430305722-25.webp)\n     合规参数和变量示例：\n     ![image.png](other.assets/1716365683997-2f7f0e98-eac7-4ad7-b93f-4664c8b81cd9-1716430345919-28.webp)不合规参数和变量示例：\n     ![image.png](other.assets/1716370700883-44ec6414-3a66-4626-9027-666b7c36e972-1716430368068-31.webp)\n   - 当设置变量命名为可视化，参数选择正则表达式，则变量命名使用可视化选项命名，参数使用正则表达式命名，若变量&参数命名不合规，编译脚本出现相应的提示。如：\n     ![image-20240523101559935](other.assets/image-20240523101559935.png)\n     合规变量不合规参数示例：\n     ![img](other.assets/1716370637320-ec8ad548-09de-4bff-8380-31f9a926cc8a.png)\n     合规变量和参数示例：\n     ![img](other.assets/1716370822620-8bf542a6-2a6f-4968-8a8d-6f048e0a8fb2.png)\n4. 严格模式：若勾选，则名称不合规禁止编译；若不勾选，则名称不合规可编译通过，同时双击提示里的【查看详情】可查看命名规则。如：![img](other.assets/1716371170802-abb3a52d-eaaf-4f6b-9976-536e70ba3242.png)\n   ![img](other.assets/1716371450482-68debb1b-0848-40f6-99d0-993ead7f6d9c.png)![img](other.assets/1716371764549-472719f8-3194-451b-83a3-873b2a76b1cb.png)\n## 启用角色权限自动添加\n默认不勾选。\n该功能只对【角色管理】界面中的资源权限、代理端权限、组件权限、流程权限、模版权限和全局参数权限有效。如在【角色管理】界面，给用户 user 分配权限，单击【组件权限】给用户分配一个名为 “test” 分组下的组件权限。\n- 勾选“启用角色权限自动添加”，则后续在【组件管理】界面-> “test” 分组下新增组件，则用户 user 也将拥有新增的组件的权限；\n- 若不勾选“启用角色权限自动添加”，则用户 user 不会拥有新增的组件的权限，只拥有分配组件权限前，该分组下的组件权限，后续增加的组件将不会自动添加。（资源权限、代理端权限、流程权限、模板权限、全局参数权限同组件权限一样）\n## 流程组件未审核提示\n默认不勾选。\n该功能是针对未审核的组件，在流程节点中被调用后，执行流程时会有提示弹框弹出。\n例如：在【组件管理】界面创建组件后不审核，此时在【流程设计】界面新建流程，并调用前面所创建的未审核组件：\n-  若勾选`流程组件未审核提示`，则执行流程时，会弹出“组件 XXX 未审核，是否继续执行？”的提示弹框。\n- 若不勾选`流程组件未审核提示`，则执行流程时，不会有弹框弹出。\n## 启用任务提前\n默认不勾选。\n需与中金财富的 RPA 业务运营平台结合使用。在 RPA 的【系统设置】勾选“启用任务提前”，在中金财富 RPA 业务运营平台支持任务提前配置。\n## 设置帮助信息\n默认不启用。\n设置了设置帮助后，退出控制台再次登录，则在【工作台】界面右上角会有帮助的图标，单击该图标，会显示所设置的相关帮助信息。\n## 设置向导自动保存时间(秒)\n默认60，可按 F2 可自定义编辑保存时间，该功能可将脚本向导自动保存到本地。\n1. 如设置自动保存时间为10秒，则在脚本向导组件编辑界面，单击“工具”-“自动保存”，后单击“保存”；\n2. 在该组件编辑界面继续编辑组件，10秒后强制关闭控制台；\n3. 再重新登录控制台打开上一步操作的组件，将会有“确定导入本地新的脚本”的提示弹框弹出，若单击“确定”，即可导入上一步操作的且为保存的脚本。\n   >**[info] 提示**\n   >\n   > - 脚本保存路径为：“C:\\Users\\Administrator\\AppData\\Local\\Temp\\kcaom\\Control\\SaveTimfile”。\n   > - 当组件编辑界面导入新脚本后，路径里对应的脚本会被删除。\n## 保存执行代码\n默认不勾选。\n>**[info]  说明**\n>\n>&emsp;该设置仅支持 MySQL 数据库。\n`保存执行代码`配置项和`数据库参数`配置项搭配使用，该功能是将调用中文脚本/脚本向导类型组件的流程的执行日志，保存在所创建数据表中。具体使用请查看[数据库参数](#数据库参数)配置项。\n## 数据库参数\n默认不启用。\n`数据库参数`配置项和`保存执行代码`配置项搭配使用，该功能是将调用中文脚本类型组件的流程的执行日志，保存在所创建的数据库的数据表中，数据表按执行日期分表记录存储。\n> **[info]  说明**\n>\n> &emsp;该设置仅支持 MySQL 数据库。\n1. 在 MySQL 中创建数据库 cicc_flow_log 和数据表 flowlog ，创建语句如下图所示：\n   创建数据库：\n   ```\n   CREATE DATABASE cicc_flow_log;\n   ```\n   创建数据表：\n   ```\n   CREATE TABLE cicc_flow_log.flowlog (CREATE TABLE cicc_flow_log.flowlog ( `ciccID` Int auto_increment PRIMARY KEY, `ciccExecID` VARCHAR(64) NOT NULL,  `ciccFlowName` VARCHAR(64) NOT NULL, `ciccFlowID` VARCHAR(64) NOT NULL, `ciccComponetID` VARCHAR(64) NOT NULL, `ciccComponetName` VARCHAR(64) NOT NULL, `ciccDate` VARCHAR(64) NOT NULL, `ciccTimeFlag` VARCHAR(64) NOT NULL, `ciccLevel` VARCHAR(64) NOT NULL, `ciccMsg` VARCHAR(256) NOT NULL)ENGINE=InnoDBDEFAULT CHARSET=gbkCOLLATE=gbk_chinese_ci;\n   ```\n2. 勾选`保存执行代码`且进行`数据库参数`配置。\n   单击“点击设置”，勾选“启用数据库参数”，完善数据库地址、端口、数据库（cicc_flow_log）、用户、密码和 sqlmode，单击“测试”检测是否连接成功。\n   ![image-20231122162831227](other.assets/image-20231122162831227.png)\n   **数据库参数设置中各字段说明：**\n   - 类型：默认对 Mysql 数据库参数设置，无法修改。\n   - 地址：填写数据库地址。\n   - 端口：填写数据库端口。\n   - 数据库：填写存入流程日志数据的数据库名称。\n   - 用户：登录数据库的用户名。\n   - 密码：登录数据库的密码。\n   - sqlmode：新增数据库`NO_BACKSLASH_ESCAPES`配置，可使流程日志中包含转义符的内容能够正常写入数据库，不被转义。使用该配置时需与数据库原 sqlmode 配置以英文逗号隔开进行拼接才能生效。\n     > **[info]  原sqlmode配置查询方法：**\n     >\n     > &emsp;在数据库中执行`select @@sql_mode`语句可查询原 sqlmode 配置。\n     使用步骤如下：\n     （1）登录 MySQL 后，执行`select @@sql_mode`语句查询原 sqlmode 配置：\n     ![image-20231122161702275](other.assets/image-20231122161702275.png)\n     （2）在原 sqlmode 配置后面拼接`NO_BACKSLASH_ESCAPES`配置并写入 sqlmode 字段中：`STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,NO_BACKSLASH_ESCAPES`\n     （3）准备一个含有转义符内容的脚本组件：\n     ![image-20231123154324603](other.assets/image-20231123154324603.png)\n     （4）当流程中调用该脚本组件时，数据库中存入含有转义符内容的流程日志能正常显示出来：\n     ![image-20231122161057010](other.assets/image-20231122161057010.png)\n     设置前数据库表中的流程日志：\n     ![image-20231122161235934](other.assets/image-20231122161235934.png)\n     设置后数据库表中的流程日志：\n     ![image-20231122161325334](other.assets/image-20231122161325334.png)\n3. 待配置完成后，手动执行流程或自动执行流程任务。\n   当流程节点中所调用的组件执行完成后，在数据表 flowlog 中会产生相应的数据；当流程节点所调用的组件执行级别严重时，在数据表 flowlog 所产生的数据中，最后一条数据的 ciccLevel 变为 error。\n> **[info] 提示**\n>\n> - 该功能仅适用于调用中文脚本/脚本向导类型组件的流程。\n> - 若存入数据库中的流程日志内容存在转义乱码问题，需配置 sqlmode 参数字段。\n> - 仅针对MySQL数据库。\n## 启用个人权限\n`启用个人权限`功能与【角色管理】-“显示”-“显示个人权限”项搭配使用。该功能设置支持在【权限管理】对单个用户赋予角色权限，即当【用户管理】界面新增用户时，【角色管理】界面会同步新增一个“个人角色”分组，新增的用户在该分组下会被赋予个人角色权限。\n> **[warning]  注意**\n>\n> &emsp;在不启用“权限启用分级管理”系统设置的情况下，才能看到新增的“个人角色”分组。\n- 勾选`启用个人权限`：\n  1.【用户管理】界面新增一个名为 “test” 的用户。\n  ![image-20231031145301582](other.assets/image-20231031145301582.png)\n  2.启用【角色管理】-“显示”-“显示个人权限”项后，界面会显示“个人角色”分组，在该分组下可查看到新增的用户直接被赋予个人角色权限，即直接新增一个以新增用户名 ”test“ 命名的角色，该用户被增加在此角色下，如下图所示：\n  > **[info]  说明**\n  >\n  > &emsp;若新增的用户被删除，则【角色管理】界面下该用户的个人角色权限也会被删除。\n  ![image-20231103171224563](other.assets/image-20231103171224563.png)\n  > **[info]  说明**\n  >\n  > &emsp;启用”显示个人权限“设置项后不会一直显示，关闭【角色管理】页面该设置会被取消启用，需要启用再次单击即可。\n  ![image-20231103164433660](other.assets/image-20231103164433660.png)\n  ![image-20231031145733649](other.assets/image-20231031145733649.png)\n- 不勾选`启用个人权限`，则新增的用户不会被单独赋予个人角色权限。\n## 启用目录权限\n默认不勾选。\n`启用目录权限`功能与【权限管理】界面搭配使用。支持在【权限管理】界面对目录赋予权限，若对该目录赋予权限，后续在该目录下增加资源，则可不必再对该资源进行具体的权限赋予。即若拥有该目录权限，则将会拥有后续在该目录下增加的所有资源的权限。\n- 勾选`启用目录权限`，\n  1. 在【权限管理】界面，赋予权限页面会增加一个“选择XX目录”的页签。如分配流程权限，在流程权限栏下单击【点击设置】，在“选择流程”弹框中会增加一个“选择流程目录”的界面。\n     ![image-20230529100651562](other.assets/image-20230529100651562.png)\n  2. 在该界面可设置目录权限。当勾选某个流程目录时，也需要在该目录的右侧勾选上“启用”，则该目录权限设置方可生效。\n     ![image-20230529100739143](other.assets/image-20230529100739143.png)\n  > **[info] 提示**\n  >\n  >  &emsp;需要勾选“启用”，则`启用目录权限`功能方可生效，否则将与不勾选`启用目录权限`效果一样。\n- 不勾选`启用目录权限`\n  在【权限管理】界面，赋予权限页面将不会增加一个“选择XX目录”的页签。\n## 启用用户限制登录\n默认不勾选。\n`启用用户限制登录`功能，限制指定用户登录 Web 端或控制台，具体情况如下：\n- 限制用户登录 Web 端（此处以 test001 用户为例）\n  - 在【系统设置】-其他分组下，勾选`启用用户限制登录`；\n  - 在【角色管理】-其他权限，为指定用户选择用户登录限制选项，如下图所示：\n    ![image-20230614101356887](other.assets/image-20230614101356887.png)\n  - 当设置完成后，用户 test001 将无法登录进入 Web 端，如下图所示：\n    ![image-20230614101449056](other.assets/image-20230614101449056.png)\n- 限制用户登录控制台（此处以 test002 用户为例）\n  - 在【系统设置】-其他分组下，勾选`启用用户限制登录`；\n  - 在【角色管理】-其他权限，为指定用户选择用户登录限制选项，如下图所示：\n    ![image-20230614101622546](other.assets/image-20230614101622546.png)\n  - 当设置完成后，用户 test002 将无法登录进入控制台，如下图所示：\n    ![image-20230614101718455](other.assets/image-20230614101718455.png)\n- 限制用户登录 Web 端和控制台\n  限制用户登录 Web 端和控制台的方式有两种，如下所示：\n  **方式一：**\n  在【角色管理】-其他权限下，为指定用户选择用户登录限制时，同时勾选“控制台”和 “Web” 。\n  ![image-20230614102530355](other.assets/image-20230614102530355.png)\n  **方式二：**\n  同一个用户多个角色：如角色 test1 和角色 test2 关联的人员均选择同一个用户 test001 ，角色 test1 的用户登录限制选择 “Web” ，角色 test2 的用户登录限制选择“控制台”，则用户 test001 也将无法登录控制台和 Web 端。\n  ![image-20230614102258189](other.assets/image-20230614102258189.png)\n  角色 test1 的设置：\n  ![image-20230614102506138](other.assets/image-20230614102506138.png)\n  角色 test2 的设置：\n  ![image-20230614102436981](other.assets/image-20230614102436981.png)\n## 申请审核发送邮件\n银行运营管理平台、基金运营管理平台：在【在线商店】界面对商品申请使用后，会触发邮件提醒功能，所有流转角色会收到审核提醒的邮件信息。\n> **[info]  前提**\n>\n> - 使用该功能前，需勾选启用“商品申请启用流程”系统设置，并在【模板管理】界面对“商品审核模板”配置流转角色。\n> - 使用该功能前，还需进行相关邮件环境配置：\n>   - 在【邮件配置】界面下配置邮件平台信息。\n>   - 在【用户管理】界面配置指定流转角色下用户的邮件信息。\n>   - 检查在【系统设置】-通知分组下的“禁用邮件”设置为不勾选状态。\n- 若勾选“申请审核发送邮件”，对商品申请使用后，会有邮件信息发送到所有流转角色的邮箱；\n- 若不勾选“申请审核发送邮件”，对商品申请使用后，不会有邮件信息发送到所有流转角色的邮箱，系统默认不勾选。\n![image-20230817170109256](other.assets/image-20230817170109256.png)\n>**[info]  说明**\n>\n>-  所有发送的邮件信息可在控制台【邮件记录】界面查看到。\n>-  若申请任务审核不通过时，前一节点流转角色会收到邮件提醒信息。\n>-  若申请任务流转的过程中对“商品审核模板”进行了修改，节点流转时，仍会按原先的模板设置发送邮件提醒给流转角色。\n![image-20230817170008428](other.assets/image-20230817170008428.png)\n## 启用电子日志记录\n此配置项为安信定制化功能：该功能主要针对服务器日志中对电子日志数据进行显示权限控制。\n- 若勾选“启用电子日志记录”，则在 Server/Logs 目录下的服务器日志中会显示推送的电子日志数据；\n  > **[info]  说明**\n  >\n  > &emsp;若在服务器日志中显示推送的电子日志数据，需要先在网页版运营管理平台【系统管理】-【服务器对接】界面下开启“电子日志”按钮。\n  >\n  > ![image-20230823204315205](other.assets/image-20230823204315205.png)\n- 若不勾选“启用电子日志记录”，则在 Server/Logs 目录下的服务器日志中不会显示推送的电子日志数据。默认不勾选。\n## 流程确认节点信息第三方推送\n默认不启用。\n勾选启用该功能，可配置流程确认节点的相关消息推送至第三方平台，即当运行流程检测到存在确认节点的时候，会发送相关消息到设置的第三方 url 地址上。\n> **[info]  说明**\n>\n> &emsp;流程确认节点相关信息包括流程ID、流程名称、执行ID、执行人ID、执行人名称、推送时间、确认节点的备注内容和确认节点数量。\n![image-20230915171316693](other.assets/image-20230915171316693.png)\n## 判断商品申请使用\n> **[warning]  注意**\n>\n> &emsp;该功能仅支持银行运营平台 logo。\n该功能主要设置【商品发布】界面发布的商品是否允许被申请使用。\n- 勾选`判断商品申请使用`，在【商品发布】-“增加”-“增加商品”弹框内增加“不允许申请使用”选项，若勾选“不允许申请使用”选项，则发布的商品不允许被申请使用，即在该商品详情页内的“申请使用”按钮会被禁用。\n  ![image-20231226192644104-1704184501041](other.assets/image-20231226192644104-1704184501041.png)\n  具体使用操作及效果如下所示：\n  1. 勾选“判断商品申请使用”设置项。\n     登录控制台，进入【系统设置】界面，在“其他”分组下，勾选“判断商品申请使用”项。\n     ![image-20231226175459235](other.assets/image-20231226175459235.png)\n  2. 发布并审核不允许申请使用的商品。\n     >**[info]  说明**\n     >\n     >&emsp;以“1226商品”商品为例说明，该商品关联的运行流程为 “test流程”。\n     进入【商品发布】界面，单击“增加”按钮即可进行商品发布，如下图所示，发布名为“1226商品”的商品，发布时需勾选“不允许申请使用”选项。\n     ![image-20231226192644104](other.assets/image-20231226192644104-1704184501041.png)\n     在【发布审核】界面对该商品进行审核。\n     ![image-20231226193405515](other.assets/image-20231226193405515.png)\n  3. 查看商品详情页。\n     审核通过后，在【在线商品】界面单击“1226商品”进入商品详情页面，此时该商品的“申请使用”按钮为灰色且无法单击，即该商品不允许被申请使用。\n     ![image-20231226194535780](other.assets/image-20231226194535780.png)\n     ![image-20231226194551818](other.assets/image-20231226194551818.png)\n  4. 使用手动或任务配置批量执行“1226商品”商品关联的流程，该流程的运行结果也会输出到【场景效益分析】界面“1226商品”商品的场景成效分析数据中。\n     >**[info]  说明**\n     >\n     >- 该效果仅对厦门国际银行 logo 生效，其他银行运营平台 logo 在【场景效益分析】界面无“1226商品”商品的场景成效分析数据。\n     >- 可用于区分统计厦门国际银行中使用商品任务和非商品任务执行关联流程的场景成效分析数据。\n     ![image-20231229155142473](other.assets/image-20231229155142473.png)\n     ![image-20231229152515557](other.assets/image-20231229152515557.png)\n- 不勾选`判断商品申请使用`，在【商品发布】-“增加”-“增加商品”弹框内不会增加“不允许申请使用”选项，默认不勾选。\n## 启用新指明方法\n该功能可选择“旧模式”和 “新AA和UIA模式”，选择 “新AA和UIA模式” 可提高指明方法中 AA 和 UIA 模式对应用程序的识别速度和识别准确率。\n![image-20240117150417272](other.assets/image-20240117150417272.png)\n- 选择`旧模式`：保持原指明方式，使用 AA 或 UIA 模式对应用程序进行指明时，可能会出现识别速度慢或识别不准确的问题，默认选择“旧模式”。\n- 选择`新AA和UIA模式`：使用 AA 或 UIA 模式对应用程序进行指明后，会在表达编辑器中查看到首行标签自动新增 “RPASelectorType='1' ” 属性，此时指明方法中 AA 和 UIA 模式对应用程序的识别速度和识别准确率明显提高。\n  ![image-20240117114446339](other.assets/image-20240117114446339.png)\n## CMDB同步接口配置\n该功能通过配置业务、设备、用户和机房四个接口信息来同步获取 CMDB （业务ID、设备信息、用户名和机房名等）数据。\n>**[warning]  注意**\n>\n>&emsp;该功能为招商证券定制化功能。\n具体操作如下：\n1. 设置 “CMDB同步接口配置” 接口信息\n   ![](other.assets/image-20240423143002189.png)\n   **“CMDB同步配置接口“ 弹框说明：**\n   - 请求方式：可选 Post/Get 请求方式；\n   - 请求地址：填写同步接口地址；\n   - 请求头：填写请求头的名称和键值，如 applicaton/json;charset=utf-8；\n   - 请求参数：依次填写业务、设备、用户以及机房接口配置中要获取的参数字段、参数类型和参数值；\n     >**[info]  说明**\n     >\n     >- 参数配置格式：\n     >\n     >  - “page” 参数类型为对象，参数值配置格式为“{}”，例如：{\"start\":0,\"limit\":10}，其中start:记录开始位置；limit:每页限制条数；\n     >  - “fields” 参数类型为数组，参数值配置格式为“[]”；\n     >\n     >- 字段说明：\n     >\n     >  - 通用参数：配置接口信息时通用参数为必填参数\n     >\n     >     \n     >     \n     >         参数字段名\n     >         参数说明\n     >     \n     >     \n     >        bk_app_code\n     >        应用ID\n     >    \n     >    \n     >        bk_app_secret\n     >        安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -> 点击应用 ID -> 基本信息 获取\n     >    \n     >    \n     >        bk_token\n     >        当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取\n     >    \n     >    \n     >        bk_username\n     >        当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户\n     >    \n     >    \n     >\n     >  - 请求参数：配置接口信息时根据需求填写请求参数\n     >\n     >    \n     >     \n     >         参数字段名\n     >         参数说明\n     >     \n     >        page\n     >        分页条件\n     >    \n     >    \n     >        fields\n     >        指定查询的字段，参数为业务的任意属性，如果不填写字段信息，系统会返回业务的所有字段\n     >    \n     >    \n     >        condition\n     >        查询条件，参数为业务的任意属性，如果不写代表搜索全部数据，(历史遗留字段，请勿继续使用，请用 biz_property_filter)\n     >    \n     >    \n     >\n     >  - 遍历获取所有业务 id 及业务属性（业务id、业务主要负责人，业务备用负责人）\n     >\n     >     \n     >     \n     >         参数字段名\n     >         字段对应关系\n     >     \n     >     \n     >        bk_biz_id\n     >        字段对应关系\n     >    \n     >    \n     >        bk_biz_maintainer\n     >        主要负责人\n     >    \n     >    \n     >        bak_biz_maintainer\n     >        备用负责人\n     >    \n     >    \n     >\n     >  - 使用业务 id 获取业务下主机和拓扑信息 （设备类型，机房，业务系统，集群，模块，主用负责人，备用负责人），其中主机模型没有”机房“字段，需要与物理机关联获取。\n     >\n     >     \n     >     \n     >         参数字段名\n     >         字段对应关系\n     >     \n     >     \n     >        bk_os_type\n     >        设备类型(该字段为系统类型)\n     >    \n     >    \n     >        operator\n     >        主要负责人\n     >    \n     >    \n     >        bk_bak_operator\n     >        备用负责人\n     >    \n     >    \n     >        bk_set_name\n     >        集群\n     >    \n     >    \n     >        bk_module_name\n     >        模块\n     >    \n     >    \n     >        bk_cloud_id\n     >         云区域\n     >     \n     >    \n     >\n     >  - 查询用户中文名。\n     >\n     >     \n     >     \n     >         参数字段名\n     >         字段对应关系\n     >     \n     >     \n     >        username\n     >        用户名\n     >    \n     >    \n     >        display_name\n     >        中文名\n     >    \n     >    \n     >\n     >  - 若业务接口获取回来的参数以及参数值用于设备（或机房）接口的请求参数时，则获取回来的参数值以``格式传入并将类型设置为 Cite。\n   - 配置字段映射：可通过配置字段映射实现其余字段拓展，默认不勾选，勾选后启用配置字段映射功能。\n     >**[info]  说明**\n     >\n     >&emsp;配置 Aom 字段映射， 需与 Aom 中存储的字段一致；配置 CMDB 字段映射，需与 CMDB 中获取的字段一致。\n2. 同步数据\n   在【作业设计】界面执行“系统任务”-“同步CMDB数据”任务时，会通过配置的接口信息同步数据。\n   ![](other.assets/image-20240419174635115.png)\n3. 同步结果\n   执行定时任务后，在【对象设置】界面可以看到同步的数据。\n## 中信期货同步\n该功能可通过统一认证接口同步系统组织架构和用户数据。\n> **[warning]  注意**\n>\n> &emsp;该功能为中信期货定制化功能。\n具体操作如下：\n1. 设置“中信期货同步”接口信息\n   - 勾选`启用登录验证`，设置时必须勾选`启用登录验证`进行用户登录验证账号。\n   - 勾选`启用定时用户同步`，可定时同步系统中的用户组织架构和人员，勾选后需与【任务配置】-系统任务中的“[同步用户](http://doc.kingsware.cn:8096/public/Uploads/Doc/0F87496EF3E0ABA3B794BE2A33EA95D5/%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1/SynchronizeUsers.html)”自动任务搭配使用，使用后系统任务会先同步组织架构再同步人员数据。\n   ![image-20240219140822902](other.assets/image-20240219140822902.png)\n   接口信息填写说明：\n   >**[info]  说明**\n   >\n   >&emsp;单击 “测试Token” 按钮，仅验证填写的 CITICS_Token 接口的配置项信息是否正确。\n   - Url（必填）：填写同步接口地址；\n   - 请求方式（必填）：填写请求方式时依次对应 CITICS_Login、CITICS_Token、CITICS_Org、CITICS_User 四个接口配置项信息并使用英文逗号隔开，如post,post,post,post，若接口配置项信息为空，则对应请求方式填写为空，如post,post,,post；\n   - Headers（必填）：填写头部信息，如Content-Type=application/json；\n   - Authorization（必填）：填写 APPID 和 APPKey 内容，使用英文逗号隔开，格式为AppId=xxx,AppKey=xxx；\n   - CITICS_Login ：填写登录验证接口的配置信息；\n   - CITICS_Token：填写 access_token 接口的配置信息；\n   - CITICS_Org：填写组织数据同步接口的配置信息；\n   - CITICS_User：填写用户数据同步接口的配置信息。\n     配置信息模板格式如下：\n     ```\n     \"SvcCd\": \"10120002\",\n     \"SvcScn\":\"11\",\n     \"CnsmrSysld\":\"F069\",\n     \"CnsmrseaNo\":\"F069$日期流水号\",\n     \"SrcCnsmrsysld\":\"F069\",\n     \"GlblSegNo\":\"F069$日期\",\n     \"TxnDt\":\"20231208\",\n     \"TxnTm\":\"155230\",\n     \"FileFlg\": \"0\",\n     \"CnlTp\":\"\",\n     \"CnsmrSvrld\":\"\",\n     \"FileNm\":\"\",\n     \"SvcVerNo\": \"\",\n     \"BrchNo\":\"\",\n     \"TlrNo\":\"\",\n     \"TmlNo\":\"\"\n     ```\n     其中`$日期流水号`、`$日期`可自定义数据，格式填写：20240219000000000001、20240219，即规定$日期填写为年月日，$流水号为12位数。\n     >**[info] 字段说明：**\n     >\n     >\n     >\n     >序号\n     >英文名称\n     >中文名称\n     >数据类型\n     >是否必输    \n     >备注\n     >\n     >\n     >1\n     >SvcCd\n     >服务代码\n     >String(8)\n     >Y\n     >服务唯一标识，由ESB服务治理组提供\n     >\n     >\n     >2\n     >SvcScn\n     >场景代码\n     >String(2)\n     >Y\n     >描述每个服务的应用场景，由ESB服务治理组提供\n     >\n     >\n     >3\n     >CnlTp\n     >渠道类型\n     >String(3)\n     >N\n     >服务请求系统渠道类型\n     >\n     >\n     >4\n     >CnsmrSysId\n     >消费方系统编号\n     >String(6)\n     >Y\n     >消费系统编号（直接请求系统）\n     >\n     >\n     >5\n     >CnsmrSeqNo\n     >消费方系统流水号\n     >String(50)\n     >Y\n     >服务请求系统的系统流水号，由请求系统按照流水号规则生成并且上送\n     >\n     >    \n     >6\n     >SrcCnsmrSysId\n     >源发起系统编号\n     >String(6)\n     >Y\n     >服务原始发起方的系统编号\n     >\n     >    \n     >7\n     >GlblSeqNo\n     >全局流水号\n     >String(50)\n     >Y\n     >最原始请求系统生成的系统流水号，贯穿整个业务流程，用来唯一标识一笔业务\n     >\n     >    \n     >8\n     >TxnDt\n     >交易日期\n     >String(8)\n     >Y\n     >请求系统发起交易的机器日期；格式为YYYYMMDD，无掩码\n     >\n     >    \n     >9\n     >TxnTm\n     >交易时间\n     >String(6)\n     >Y\n     >请求系统的交易发起时间；格式为HHMMSS，无掩码\n     >\n     >    \n     >10\n     >CnsmrSvrId\n     >消费系统服务器标识\n     >String(30)\n     >N\n     >服务请求系统的服务器IP地址\n     >\n     >    \n     >11\n     >FileFlg\n     >文件标志\n     >String(1)\n     >Y\n     >取值范围：0 无文件；1 请求有文件；2 返回有文件；\n     >\n     >    \n     >12\n     >FileNm\n     >文件名称\n     >String(120)\n     >N\n     >请求上送的文件名称（含文件路径），文件交易服务时需要且必输\n     >\n     >    \n     >13\n     >SvcVerNo\n     >服务版本号\n     >String(10)\n     >N\n     >在服务生产者支持时，调用服务时填写\n     >\n     >    \n     >14\n     >BrchNo\n     >机构号\n     >String(7)\n     >N\n     >服务消费者的机构归属\n     >\n     >    \n     >15\n     >TlrNo\n     >柜员号\n     >String(6)\n     >N\n     >服务消费者的唯一标识\n     >\n     >    \n     >16\n     >TmlNo\n     >终端号\n     >String(30)\n     >N\n     >服务请求系统的终端标识号，自动取款机、自助存取款机、POS终端号等\n     >\n     >\n     >\n2. 同步数据\n   在【用户管理】界面单击“增加”-“中信期货同步”-“同步组织架构”进行用户组织架构的数据同步。\n   >**[info]  说明**\n   >\n   >&emsp;以下示例以“同步组织架构”操作为例，“重新同步组织架构”、“同步人员”、“重新同步人员”操作类似，其中同步的数据均来源于【系统设置】-“中信期货同步”配置的接口。\n   >\n   >- 同步组织架构：增量同步组织架构，即同步从上一次同步至今的组织架构数据，已同步的数据不变；\n   >- 重新同步组织架构：全量同步组织架构，若部分数据已经存在，则直接覆盖；\n   >- 同步人员：增量同步人员，即同步从上一次同步至今的人员数据，已同步的数据不变；\n   >- 重新同步人员：全量同步人员，若部分数据已经存在，则直接覆盖。\n   ![image-20240206181220799](other.assets/image-20240206181220799.png)\n   ![image-20240206203034697](other.assets/image-20240206203034697.png)\n3. 同步结果\n   同步组织架构后在【用户管理】界面会保存对应的分组数据并自动生成“系统分组用户”分组，在该分组下手动新增的用户不会进行登录验证。\n   ![image-20240220111704990](other.assets/image-20240220111704990.png)\n   > **[info]  说明**\n   >\n   > &emsp;同步人员后新增的用户在【用户管理】对应的分组下，若无对应的分组，则会添加到自动生成的“同步未获取用户分组”分组下，同时在【角色管理】界面会自动生成“中信同步临时角色”角色，新增的用户默认都在该角色下。\n   >\n   > ![image-20240220111747735](other.assets/image-20240220111747735.png)\n   >\n   > ![image-20240220140525703](other.assets/image-20240220140525703.png)\n## 流程下线时同步下线商品\n该功能可通过下线流程来下线商品及商品任务。若是勾选，则在【流程设计】页面下线流程时可看到“下线关联的商品”项，不勾选则只能看到“下线相关流程任务”项。\n> **[warning]  注意**\n>\n> &emsp;该功能为“银行运营平台”定制化功能。\n具体使用操作及效果如下所示：\n1. 勾选“判断商品申请使用”设置项。\n   登录控制台，进入【系统设置】界面，在“其他”分组下，勾选“流程下线时同步下线商品”项。\n   ![image-20240111091021500](other.assets/image-20240111091021500.png)\n2. 进入【流程设计】页面下线流程，下线商品及相关商品任务。\n   >**[info]  说明**\n   >\n   >&emsp;以“队列测试”流程为例说明，该流程关联的商品为 “测试”，商品关联的商品任务为“测试-admin[系统管理员]”。\n   进入【流程设计】界面，对流程右键单击“下线”即可进行下线流程，如下图所示，下线名为“队列测试”的流程，下线时如需下线商品任务，则勾选“下线关联的商品”选项及对应的商品，默认勾选“禁用相关任务”，勾选后单击“是”。\n   ![image-20240111093321517](other.assets/image-20240111093321517.png)\n   下线前，web端的【今日任务】页面存在商品任务“测试-admin[系统管理员]”；\n   ![image-20240111094046499](other.assets/image-20240111094046499.png)\n   下线商品及商品任务后，web端的【今日任务】页面的商品任务下线。\n   ![image-20240111094955760](other.assets/image-20240111094955760.png)\n   可在web端的【我的机器人】页面看到对应商品任务被禁用。\n   ![image-20240111095156196](other.assets/image-20240111095156196.png)\n3. 若需要重新上线商品及商品任务，则可在【流程设计】页面上线。\n   选中流程右键单击，选择“上线”，然后在提示窗口勾选“上线相关商品”和选择勾选“测试”商品，同时保持默认勾选“恢复这些商品产生的任务”，最后单击“是”，即可上线商品任务。\n   >**[warning]  注意**\n   >\n   >&emsp;上线的商品需要在web端重新进行发布审核才可重新上线。\n   ![image-20240111095453487](other.assets/image-20240111095453487.png)\n   上线后，web端的【今日任务】页面重新出现商品任务“测试-admin[系统管理员]”\n   ![image-20240111100022938](other.assets/image-20240111100022938.png)\n   web端的【我的机器人】页面显示商品任务为“启用”状态。\n   ![image-20240111100113216](other.assets/image-20240111100113216.png)\n## 启用组件导入自动编译\n默认不勾选。\n- 若勾选，则用户在【组件管理】界面导入组件后，会立即检查编译导入的所有组件（ .db 格式文件），当导入的组件中存在编译错误的组件时，会弹窗展示编译错误的组件信息。\n  例如：用户在【组件管理】界面单击“增加”-“导入”-“导入”后，若选择的 .db 文件中存在编译错误的组件，则正常导入选中组件后，会立即弹窗展示编译错误的组件信息，如下图所示；若组件都编译正常，则正常导入组件。\n  ![image-20240508102653166](other.assets/image-20240508102653166.png)\n- 不勾选，则用户在【组件管理】界面导入组件时，即使存在编译错误的组件也不会进行弹框提示，而是正常导入组件。\n## 多进程调用Python \n使用 RpaCallPython.exe 进程方式运行 Python 脚本，该方式可一定程度上提升 Python 脚本运行效率，功能上无任何差异，默认不勾选。\n![](other.assets/微信截图_20240520174648.png)\n> **[warning]  注意**\n> \n&emsp;开启该功能时，需要将 [RpaCallPython.exe](http://www.rpa-china.cn:12580/plugfile/RpaCallPython.exe)  插件放置到  Agent/Control 目录下 。\n- 勾选：新建 Python 脚本时，头部新增“ # CallPyByD4p” ，运行有 “# CallPyByD4p” 头部信息的 Python 脚本时，以 RpaCallPython.exe 进程方式运行，脚本头部无“# CallPyByD4p”时，以旧方式运行 Python 脚本。\n  ![](other.assets/企业微信截图_20240524143339.png)\n  ![](other.assets/微信截图_20240520174429.png)\n- 不勾选：不管 Python 脚本头部有无 “# CallPyByD4p” ，均以旧方式运行 Python 脚本，即 Python.exe 进程方式运行 Python 脚本。\n## 桌面助手远程提示\n该功能主要控制银行运营平台 logo -【桌面助手管理】界面中的“远程”连接功能。\n- 设置启用`桌面助手远程提示`：在【桌面助手管理】界面单击“远程”连接目标机器时，目标机器桌面会弹出“远程提示”弹框，可手动选择“同意”或“拒绝”远程连接请求，也可设置指定时间内不处理则自动选择“同意”或“拒绝”远程连接请求。\n  - 勾选`超时默认同意`：超过设置“远程请求提示框”的时间不处理后，会自动默认同意代理远程连接。\n  - 不勾选`超时默认同意`：超过设置“远程请求提示框”的时间不处理后，会自动默认拒绝代理远程连接。\n  - 勾选`自定义弹出位置`：远程机器提示框的弹出位置将依据填写的“左距”、“顶距”进行显示。例如：左距为 0，顶距为 0，表示提示框弹出位置在左上角，以此类推。\n  - 不勾选`自定义弹出位置`：则无法自定义远程机器提示框的弹出位置。\n  >**[info]  说明**\n  >\n  >&emsp;下面以对“10.10.2.30”机器进行远程为例。\n  1. 启用并设置“桌面助手远程提示”功能，以及勾选并设置“自定义提示框弹出位置”。\n     ![image_20240625152149](other.assets/image_20240625152149.png)\n  2. 远程目标机器。\n     用户登录控制台，到【桌面助手管理】界面对“10.10.2.30”机器请求远程连接。\n     ![image_20240625154851](other.assets/image_20240625154851.png)\n     此时“10.10.2.30”机器界面会弹出“远程提示”弹框，可手动选择“同意”或“拒绝”远程连接请求。\n     ![image_20240625152630](other.assets/image_20240625152630.png)\n     若单击“同意”按钮则直接远程连接“10.10.2.30”机器，若单击“拒绝”按钮或超过默认时间不处理则控制台界面会弹出“代理端已拒绝远程”提示弹框。\n     ![image_20240625153126](other.assets/image_20240625153126.png)\n- 不启用`桌面助手远程提示`：在【桌面助手管理】界面可以直接远程连接目标机器，默认不启用。\n## 多用户操作浏览器\n该功能主要是为了解决同一用户画中画和主机同时使用谷歌浏览器时，造成浏览器通道冲突问题，布尔型，默认不勾选。\n- 勾选：谷歌浏览器多通道运行，即：画中画和主机可并行执行浏览器相关函数和流程；\n  ![](other.assets/企业微信截图_20240704201005.png)\n- 不勾选：谷歌浏览器单通道运行，画中画和主机只可串行执行浏览器相关函数和流程。\n>**[warning]  注意**\n>\n>&emsp;1. 该配置仅对谷歌浏览器生效；\n>&emsp;2. 支持谷歌和谷歌V3插件；\n>&emsp;3. 修改配置后，需重启浏览器才能生效；\n>&emsp;4. 更新主机浏览器插件时，画中画中浏览器插件也需要更新。\n## 启用多时区\n勾选`启用多时区`：在任务配置界面配置任务时，可选择任务时区。则任务新建之后，执行时间会以该时区时间来执行。任务显示会以当前控制台所在机器的时区来显示。不勾选则在任务配置界面不显示多时区选项。默认不勾选。\n## 默认不勾选同步web权限\n>**[warning]  注意**\n>\n>&emsp;该配置项仅支持银行运营平台 logo。\n该功能用于在【角色管理】-“菜单权限”弹窗中，设置是否勾选 “同步Web权限(仅菜单,按钮等无效)”。\n主要解决用户对【角色管理】-“菜单权限”进行设置时会同步 web 权限，导致原先设置的 “web菜单权限” 被覆盖，从而影响网页控制台使用问题。\n![image_20241007164300](other.assets/image_20241007164300.png)\n默认不勾选。\n - 勾选`默认不勾选同步web权限`：【角色管理】-“菜单权限”弹窗中，取消勾选 “同步Web权限(仅菜单,按钮等无效)”。\n - 不勾选`默认不勾选同步web权限`：【角色管理】-“菜单权限”弹窗中，默认勾选 “同步Web权限(仅菜单,按钮等无效)”。\n## 分级管理时将分组转为角色\n> **[warning] 注意**\n>\n>  &emsp;1. 该配置项仅支持银行运营平台 logo；\n>\n> &emsp;2. 该配置使用前提是开启了“权限启用分级管理”。\n该配置用于启用权限分级管理时，将分组以角色的形式保留，默认不勾选。\n配置效果如下：\n1. 未勾选”权限启用分级管理“和“分级管理时将分组转为角色”，显示分组：\n   ![](other.assets/role2.png)\n2. 勾选”权限启用分级管理“，但未勾选“分级管理时将分组转为角色”，隐藏分组，仅展示分组内的角色：\n   ![](other.assets/role3.png)\n3. 勾选”权限启用分级管理“和“分级管理时将分组转为角色”，将分组转换成角色展示：\n   ![](other.assets/role1.png)"
  },
  {
    "text": "# 远程桌面\n## 远程桌面端口\nwindows 远程桌面的端口，默认是23，可以根据需要设置其他远程端口。\n## 远程桌面启用二次验证\n- 勾选`远程桌面启用二次验证`，则在远程时，若想要对远程桌面进行控制，则单击“控制”按钮时需要输入远程桌面机器的密码。\n- 不勾选`远程桌面启用二次验证`，则直接单击“控制”即可操作远程桌面机器，默认不勾选。\n## Ra设置\n设置 Ra 的文件路径和端口。在【值班视图】、【分组视图】、【管理视图】等界面可以右键 Radmin 远程，系统会自动调起 RA 远程工具并设置好 IP，输入和用户名和密码就可以实现快速远程。\n## AOM设置\n颜色位数一般默认，默认为16位，当连接方式选择“直连”时，代理端需要独立开一个端口，而代理端开了这个直连端口后，控制台会直接跟这个端口连接传输数据，从而减轻 Server 的压力；当选择“中转”时，控制台需要通过 Server 来传输数据。最大连接数则指的是最大允许多少个连接到代理端。\n## SecureCRT设置\nSecureCRT 是 linux 远程工具，若设置则在 Ra 远程和管理视图里的 Linux 机器里可以使用此工具，若不设置，则 Linux 机器也有一套默认的远程工具。\n## VNC设置\nVNC 是远程工具，设置好路径、密码和端口（默认5900）后，在【值班视图】、【分组视图】、【管理视图】等界面可以右键 VNC 远程，系统会自动调起 VNC 远程工具并设置好端口和密码就可以实现远程。\n## 记录远程操作\n该功能用于记录远程操作的全部流水日志，默认不勾选。\n1. 在【机器人管理】界面，远程操作 Windows 机器，在远程操作界面，单击“工具”-“下载 Windows 远程日志程序”，当下载完成后，在 “Control.exe” 同目录下会生成一个 “RpaMining” 文件夹，在 “RpaMining” 文件夹中存在 “TaskMining.exe” 程序，双击 “TaskMining.exe”，在当前文件夹中生成 “Img” 文件夹和 “Logs” 文件夹。\n   - 勾选`记录远程操作`，则远程操作 Windows 机器时，相关的操作流水日志将会记录在 “Logs” 文件夹中，按日期生成相关的日志文件。\n   - 不勾选`记录远程操作`，则远程操作 Window 机器时，相关的操作流水日志将不会被记录，且 “Logs” 文件夹内不会有相关的日志文件生成。\n2. 在【机器人管理】界面，远程操作 Linux 机器。\n   - 勾选`记录远程操作`，则在 “Control.exe” 同目录下会生成一个 “Linux” 文件夹，相关的操作流水日志将会记录到该文件夹内。\n   - 不勾选`记录远程操作`，则在 “Control.exe” 同目录下不会生成任何文件，且相关的操作流水日志不会被记录。\n## Linux连接方式\n默认不启用`Linux连接方式`。\n在【机器人管理】界面中，通过远程 Linux 机器来连接 Linux 系统平台时连接不上，可尝试设置此项配置。单击“点击设置”出现 “Linux  连接方式”窗口，可根据以下情况进行相应的配置：\n1. 当所要远程的目标 Linux 系统的 SSH 版本过高时，勾选“启用”，Linux 连接方式选择 “SecureBlackbok”，最后确定即可；若还是连接不成功，可选择 “ChilkatDelphi”（使用此方式需要将插件文件放在控制台程序 “Control.exe” 所在的目录下，插件文件为 “ChilkatDelphi32.dll”，此文件支持32位的系统，若为64位的操作系统，选择 “ChilkatDelphi64.dll”）。“SecureBlackbok” 是连接不上高版本 SSH 的旧连接方式，“ChilkatDelphi” 是连接不上高版本 SSH 的新连接方式。\n2. 当所要远程的目标 Linux 系统和本机网络不互通时，本机控制台无法连接到目标 Linux 机器，可进行以下操作：\n   - 准备另一台 Windows 主机 A 作为代理服务器：安装 Server 和 CCProxy。CCProxy 应用程序的使用方法可参考此链接“http://doc.kingsware.cn:8096/web/#/15/792” 中“注意/说明”中的第4点代理参数内容。此处的主机 A 与目标 Linux 系统之间能够网络互通，同时也要能够和本机网络互通。\n   - 准备插件文件：插件文件为 “ChilkatDelphi32.dll”，此文件支持32位的系统，若为64位的操作系统，选择 “ChilkatDelphi64.dll”。\n   - 将插件文件放在本机中控制台程序 “Control.exe” 所在的目录下，启动控制台，连接主机 A 的 Server 服务器。启动控制台后，在此处勾选“启用”，Linux 连接方式选择 “ChilkatDelphi”，再勾选“代理服务器”，将代理服务器的 IP 和端口填入即可。\n   - 若以上配置完成后，本机控制台连接目标 Linux 系统平台依然不成功，则需要在 CCProxy 的账号中添加主机 A 的 IP 即可。\n## RustDesk设置\nRustDesk 为远程桌面应用，使用该设置可通过代理端远程控制另外一台机器，该设置需与【机器人管理】界面中代理端的 “RustDesk” 配置搭配使用。\n> **[info]  说明**\n>\n> &emsp;RustDesk 设置在 **2024-01-25** 及之后的 server 版本中新增“版本”配置项，以解决控制方和受控方的 Windows 机器使用不同版本 RustDesk 导致无法正常远程连接问题，如：控制方中使用标准版 RustDesk 远程连接受控方中精简版 RustDesk 时会无法连接成功。\n原版本与 2024-01-25 之后版本区别如下：\n> **[warning]  注意**\n>\n> &emsp;程序版本需与版本配置项中填写的版本相对应。\n| 版本                           | 名称         | 功能                                           | 配置项一 | 配置项二                                                     |\n| ------------------------------ | ------------ | ---------------------------------------------- | -------- | ------------------------------------------------------------ |\n| 原版本                         | RustDesk设置 | 支持通过代理端远程连接Windows机器              | 程序路径 | /                                                            |\n| 2024-01-25及之后的 server 版本 | RustDesk设置 | 支持通过代理端远程连接Windows或统信（UOS）机器 | 程序路径 | 版本（可选标准版或精简版）**注意：若远程连接统信机器，则版本配置项需选择标准版。** |\n> **[info]  提示**\n>\n> &emsp;以下示例中以远程 Windows 机器为例，远程统信机器操作类似。\n**机器 A 通过 RustDesk 功能远程机器 B 的具体操作如下：**\n1.环境准备：\n- 机器准备\n准备两台机器，其中机器 A 作为控制方，机器 B 作为受控方，示例中两台机器所在代理的 IP 信息：\n机器 A（控制方）所在代理 IP：192.168.104.229\n机器 B（受控方）所在代理 IP：192.168.104.99\n- “RustDesk” 文件准备\n在官方网站：https://rustdesk.com/zh/ 下载 RustDesk程序，下载完成后，需分别存放在机器 A（控制方）和机器 B（受控方）下，存放路径可自定义，示例中两台机器的存放路径如下：\n机器 A（控制方）存放路径：D:\\rustdesk\\rustdesk-1.2.3-x86_64.exe\n机器 B（受控方）存放路径：C:\\Program Files\\rustdesk-1.2.3-x86_64.exe\n![image-20231020161542889](remote-desktop.assets/image-20231020161542889.png)\n2.【系统设置】界面进行“远程桌面”-“RustDesk设置” 项配置\n在【系统设置】-“远程桌面”-“RustDesk设置” 项配置 RustDesk 的程序路径，即机器 A（控制方）下载 RustDesk 应用程序的存放路径。\n> **[warning]  注意**\n>\n> &emsp;若不存在 RustDesk 程序，则在【机器人管理】界面对受控方代理端进行 “RustDesk”-“运行”时，会弹出没有找到该程序的提示框。\n![image-20231020163422357](remote-desktop.assets/image-20231020163422357.png)\n3.【机器人管理】界面进行 “RustDesk” 配置\n在【机器人管理】界面对机器 B（受控方）代理端进行“RustDesk” 配置，其中配置的 ID 和密码来源于机器 B（受控方）中 RustDesk 应用程序的 ID 和密码。\n> **[warning]  注意**\n>\n> - 若只配置 ID 不配置密码，则控制方远程控制时，需要受控方接受后，方可连接。\n>\n> - 打开 RustDesk 应用程序，即可看到 RustDesk 的 ID 和密码：\n>\n>   ![image-20231019204505626](remote-desktop.assets/image-20231019204505626.png)\n![image-20231020095208066](remote-desktop.assets/image-20231020095208066.png)\n4.在机器 A（控制方）通过 “RustDesk” 功能远程机器 B（受控方）\n在机器 A（控制方）打开【机器人管理】界面，单击机器 B（受控方）所在代理的 “RustDesk”-“运行”，即可查看到机器 A（控制方）通过 RustDesk 远程机器 B（受控方）。\n![image-20231020095323837](remote-desktop.assets/image-20231020095323837.png)\n![image-20231020103453349](remote-desktop.assets/image-20231020103453349.png)"
  },
  {
    "text": "# 截图\n## 保留历史截图（天）\n`保留历史截图（天）`功能需与【任务配置】-“系统任务”-“清除数据”的自动任务搭配使用。\n默认保留历史截图的天数为30天，也可以通过选中，按下 F2 按键来填写自己想要保留的历史截图天数。\n如果保留的天数设置为0，则保留的是当天及之前的所有历史天数的截图。\n>**[info] 提示**\n>\n> - 若历史截图是保存在 server 下，则删除是 “Server\\Data\\DBFile\\Screenshot” 路径下的截图；\n> - 若历史截图是保存在 agent 下，则删除的是 “Agent\\ScreeenShot” 路径下的截图。\n## 截图自动解屏幕\n默认不勾选`截图自动解锁屏幕`。\n勾选则在用到“结果截图”函数的时候系统会自动解锁屏幕。依赖“机器人管理”里面的系统帐号和密码。\n## 视频保存位置\n可指定路径保存。默认不填，则会在执行流程的代理端所在路径下自动建立一个目录 “Video” 进行保存，默认保存在 Agent\\Video ；【流程设计】里需设置勾选录屏，且代理端要安装录屏支持工具。详见屏幕录取操作手册。\n## 启用视频录制\n- 勾选`启用视频录制`，则可以进行屏幕录制。在【流程设计】里设置的流程节点的屏幕录制才会生效，默认保存路径为：Agent\\Video。\n- 不勾选`启用视频录制`，则不能进行屏幕录制，默认不勾选。\n## 视频录制存服务器\n流程录屏是否存服务器。\n- 勾选`视频录制存服务器`，流程录屏会存在服务器目录下，地址为：server\\Data\\DBFile\\Video；\n- 不勾选`视频录制存服务器`，则保存在默认路径：Agent\\Video（若设置了“视频保存位置”则保存在视频保存位置），默认不勾选。\n## 解锁循环次数\n自定义设置屏幕解锁失败后的循环次数，默认为3次，次数被限制为1-5次，因为超过5次仍解锁失败，就会触发电脑保护机制。\n“解锁循环次数”功能需要与“截图自动解锁屏幕”联合使用，在勾选“截图自动解屏幕”前提下，可设置解锁循环次数。例如设置解锁循环次数为3，设置完成后，通过“解锁屏幕_带配置项”中文函数，进行屏幕解锁，若屏幕解锁失败，则在执行完三次后会返回错误信息。\n>**[info] 提示**\n>\n> &emsp;次数设置为1以下按1处理，5以上按5处理。如次数设置为0，但也是按照1次处理。"
  },
  {
    "text": "# 文件分发\n只有在具有软件分发菜单的系统，才具备该分组功能。\n菜单如下：\n![image-20230413150222048](document-distribution.assets/image-20230413150222048.png)\n## 启用Ftp传输文件\n默认不启用。\n该配置主要用于软件分发功能，使用前需先配置好 FTP 服务器，然后把目标文件放在该 FTP 服务器上，且需保证代理端和控制台是可以连通 该 FTP 服务器，从而用户可以在该 FTP 服务器上进行文件的上传和下载。可选择主动模式和被动模式，默认为被动模式。若当前选择的模式进行 FTP 文件传输时不生效，则可尝试切换成另一个模式。\n- 勾选启用：【版本发布】-“文件分发”页面分发时会出现弹框，可选择是否启用 FTP，如勾选启用 FTP ，则分发文件时会同时将文件分发到 FTP 服务器上；使用上传、下载代理文件相关函数同理。 \n- 不勾选启用：使用文件分发功能和上传、下载代理文件相关函数时不会将文件分发到 FTP 服务器上。 \n![](document-distribution.assets/d7b60884b9f423a0306a5f4cb442785.png)\n## 启用MD5方式\n默认不启用。\n启用时，可以设置文件大小大于 XXMB 时使用日期监控。主要效果可以在【基准监控】界面查看，默认比较文件日期，文件日期相同则会比较文件 md5 值；不启用则不做限制。\n## 部署任务执行限制\n默认不启用。\n- 勾选启用，可以设置在一定时间段内允许或者不允许部署任务的下发；\n- 不勾选启用则部署任务的下发不受限制。注意：此开关只会控制部署任务的下发，但是不会控制部署任务的创建。\n## 软件部署并发数\n软件分发时允许同时分发文件的控制台数量，默认为0，若超过设置值则需要等待分发。\n## 单次下发最大机器数\n设置软件部署单次下发的最大机器数量，默认为0。\n 例如：设置单次最大机器数为1，用户在软件部署界面点击“下发”时，跳转到相应的基准部署界面后，若此时选择的机器数量有3台，则此时点击“执行”并输入当前用户的密码后，会弹出提示框提示“机器数量过多，不允许下发”，若选择1台，则可正常执行。\n## 文件分发并发数\n文件分发时允许同时分发文件的控制台数量，默认为0，若超过设置值则需要等待分发。 \n例如，设置“文件分发并发数”为2，则当有3台控制台同时执行同一个文件分发任务时，受“文件分发并发数”的限制，此时仅有2台控制台执行分发任务，剩下1台控制台在等待执行分发任务。\n## 启用双人复核\n默认不勾选。\n- 勾选双人复核后，【软件管理】界面下的软件信息页签中的“双人复核”会默认勾选且不可修改，此时在软件部署时需要两个人复核才能下发文件；\n- 不勾选的话只需要当前用户复核。\n## 删除软件磁盘文件\n默认勾选。\n删除软件磁盘文件指的是删除磁盘中指定文件。此处的表指（k_soft_detail、k_soft_agent_detail、k_base_file、k_base_file_ver） 登录进入 K-AOM 版本控制台，在版本发布-软件管理-文件明细中，选中指定删除的文件，单击“删除”按钮，将指定的文件明细从页面中删除。 \n- 勾选`删除软件磁盘文件`，与文件明细中删除的文件相关联的文件信息，在数据表中同步进行删除，且磁盘中不存在该文件。 \n- 不勾选`删除软件磁盘文件`，与文件明细中删除的文件相关联的文件信息，在数据表中同步删除，但磁盘中仍存在该文件。 \n## 启用文件监控\n默认勾选。\n>**[info]  说明**\n>\n>&emsp;该功能在 **2024-04-25** 及之后的 server 版本中对 K-RPA、厦门建行、RPA社区、行情监测、澳门中行、桌面助手、银行运营平台、基金运营平台、中国银行、东莞农商行、农业银行、中国邮储、交通银行、交行运营平台这14个 logo 默认勾选启用，其他 logo 默认不勾选。\n- 勾选：则软件下发的文件可以在【基准管理】界面监控，主要监控文件大小、MD5 值及修改时间；\n- 不勾选：则不会监控。\n## 是否检查一致性\n默认不勾选。\n- 勾选：文件分发页面下设置好目标机器后，选择不同文件格式或系统格式不一致的文件或文件夹，点击‘分发’，将会弹出文件格式不一致，是否继续分发的弹框。点击‘是’则分发，点击‘否’则不分发；\n- 不勾选：即便文件格式不一致也将会直接分发文件到目标机器。\n## 是否记录分发日志\n默认不勾选。\n记录文件下发的日志消息。当勾选“是否记录分发日志”，在完成文件下发操作后，打开【操作日志】页面，点击刷新，可以看到记录日志，包括文件分发成功、失败、停止。\n## 下发文件时间范围\n默认不启用。\n可自定义设置文件下发的时间范围。\n## 允许下发的文件类型\n可自定义设置允许下发的文件类型。\n## 下发文件大小控制(MB)\n软件分发、文件分发、文件传输里进行文件下发时的大小限制，默认为0，若超过限制，则不会分发。\n## 允许上传的文件类型\n可以允许或者限制某些类型的文件进行文件的上传。\n## 上传文件大小控制(MB)\n软件管理和文件管理里进行文件上传时的总文件大小限制，默认为0，若超过限制，则不会上传。\n## 启用软件部署空间检查\n默认不启用。\n- 启用后，可以自定义设置空间大小小于 XXMB 不部署文件。\n  例如：用户在此处启用并设置好空间大小限制后，在【软件部署】界面点击“下发”，跳转到相应【基准部署】界面后，点击“执行”并输入当前用户密码后会先检查代理端所在机器的备份路径所在空间是否足够，若不足则会弹出提示框提示，足够则正常执行；\n- 若不启用，则在下发后，点击执行不会检查备份路径空间大小，而是直接正常执行。\n## 传输文件记录日志\n该功能可记录系统中涉及传输文件功能的操作日志。\n> **[info]  传输方式：**\n>\n> - 通过【文件管理】菜单下【文件传输】、【文件传输[U]】、【文件分发】和【文件分发[U]】的界面功能来传输文件；\n> - 通过执行【组件管理】界面中的函数组件来传输文件;\n> - 通过调用相关接口来传输文件；\n> - 通过其他方式传输文件。\n- 勾选`传输文件记录日志`，在传输文件后，打开【操作日志】页面，可以看到传输的具体操作日志。\n  >**[warning]  注意**\n  >\n  >&emsp;通过执行或调用函数组件（包含中文脚本、脚本向导、Linux Shell、Python和PowerShell等类型组件）来传输文件时，只有传输成功的日志才会被记录，其中执行 Python 类型的函数组件时，记录的操作日志中不会显示操作人信息。\n  ![image-20240111153547893](document-distribution.assets/image-20240111153547893.png)\n- 不勾选`传输文件记录日志`，不会记录系统中涉及传输文件的操作日志，默认不勾选。"
  },
  {
    "text": "# 颜色配置\n| 颜色配置           | 功能描述                                                     |\n| ------------------ | ------------------------------------------------------------ |\n| 正常告警颜色       | 设置指标和流程，级别为正常时所显示的颜色。                   |\n| 离线告警颜色       | 设置指标和流程，级别为离线时所显示的颜色。                   |\n| 未知告警颜色       | 设置指标和流程，级别为未知时所显示的颜色。                   |\n| 提示告警颜色       | 设置指标和流程，级别为提示时所显示的颜色。                   |\n| 警告告警颜色       | 设置指标和流程，级别为警告时所显示的颜色。                   |\n| 次要告警颜色       | 设置指标和流程，级别为次要时所显示的颜色。                   |\n| 主要告警颜色       | 设置指标和流程，级别为主要时所显示的颜色。                   |\n| 严重告警颜色       | 设置指标和流程，级别为严重时所显示的颜色。                   |\n| 节假日颜色         | 设置【日历配置】、【任务配置】界面，日历的节假日所显示的背景颜色。 |\n| 双休日颜色         | 设置日历配置、任务配置（作业设计）界面，日历的双休日所显示的背景颜色。 |\n| 计划任务执行中颜色 | 正在执行的计划任务文字的颜色。                               |\n| 计划任务未执行颜色 | 未执行的计划任务文字的颜色。                                 |\n| 计划任务成功颜色   | 执行成功的计划任务文字的颜色。                               |\n| 计划任务失败颜色   | 执行失败的计划任务文字的颜色。                               |"
  },
  {
    "text": "# 代理端\n## 代理端脚本最大线程数\n可设置连接 Windows 服务器的代理端脚本线程数，Windows 代理端脚本最大线程数系统默认为50。\n>**[info]  说明**\n>\n>&emsp;手动设置代理端脚本线程数区间值为10～500。\n如：设置好代理端脚本最大线程数为 10 时，在控制台【机器人线程】界面可查看到最大只有10个线程数在切换进行：\n![image-20240409143007052](agent.assets/image-20240409143007052.png)\n![image-20240409160235568](agent.assets/image-20240409160235568.png)\n## 代理端远程控制并发数\n此处限制的是远程后可控制远程机器的数量，默认为0，表示不限制。\n>**[info] 提示**\n>\n> &emsp;不限制远程过去的代理端数量，但是会限制控制远程机器的数量，即不限制远程查看数量，但是限制远程控制数量。\n## 启用远程权限\n默认不勾选。\n- 勾选：【权限管理】界面下设置的“远程权限”才会生效；\n- 不勾选：则【权限管理】界面下设置的“远程权限”不会生效。\n## 记录脚本执行日志\n默认不启用。\n`记录脚本执行日志`功能：既可将脚本执行日志记录到 k_script_log 表中，也可定时清除脚本执行日志。\n- 勾选“启用”\n  - “日志文件保留天数”填写为0或置空，则此时的“记录脚本执行日志”功能为将脚本执行日志记录到库中，不会清除日志文件。Win 代理的执行日志，可在 “Agent\\Logs” 路径下查看；Linux 代理的执行日志，可在 “\\kagent\\scriptlog” 目录下查看。\n  - “日志文件保留天数”填写为非0值，则此时“记录脚本执行日志”功能为定时清除脚本执行日志。若保留天数填写为1或1以上，则超过填写的日志保留天数的日志文件将会被删除。\n- 不勾选“启用”，则脚本执行日志不会被记录到 k_script_log 表中，且定时清除脚本执行日志功能也不会生效。 \n## 每天重启脚本线程\n默认不勾选。\n- 勾选，代理端线程每24小时重启一次；\n- 不勾选，代理端重启时代理端线程才重启。\n## 同步设备权限\n默认不勾选。\n- 勾选:用户 a 有权限看到分组1，当新建了一个机器1后，把它移动到分组1时，用户 a 也有权限看到机器1；\n- 不勾选：则用户 a 没有权限看到机器1。\n## 同步更新机器名\n默认不勾选。\n- 勾选：则在进行机器名修改后，在进行同步时，在【对象设置】/【资源池】和【代理端管理】/【机器人管理】这种有显示机器名的地方里会跟着自动更新机器名；\n- 不勾选：则会保持原先机器名不改变。\n## 开机启动密码确认\n默认不勾选。\n勾选上的话在【代理端管理】/【机器人管理】中配置开机启动需要填用户密码。\n## 代理端确认密码\n默认勾选。\n勾选则进行重启机器、注销机器和关闭机器操作时，需要当前登录用户确认密码，不勾选则不需要。\n## 性能监控告警\n- 勾选启用事件通知并勾选设置好相应的告警条件，则达到告警条件时可以在实时事件或者首页查看到应用名称为“性能监控告警”的告警事件；\n- 不勾选则不会产生。\n## 解锁服务\n默认为“覆盖安装”。\n解锁屏幕是需要安装解锁服务的，可以选择覆盖安装、正常安装和不安装。覆盖安装是指在检测到已经有解锁服务时也会覆盖之前的服务而进行安装，正常安装是指在检测到有解锁服务时选择不再安装，未安装指的是什么解锁服务都不安装。\n## Ansible分发策略\n可设置 Ansible 分发的策略，默认为轮询方式。\n-  轮询： 从(全局变量) index =0开始，查找一台在线的 ansible 机器； \n- 执行标识哈希： 在哈希的机器列表里随机查找一台在线的 ansible 机器； \n- 资源使用： 查找 CPU 使用率低且在线的一台 ansible 机器。\n## 代理端缓存全局变量\n默认不勾选。\n- 勾选：则代理端会缓存全局变量的数据到内存里，如果代理端不重启，即使你在控制台新增或者删减了全局变量，代理端那边的全局变量数据依然保持你增删改前的数据，除非你重启了代理，全局变量的数据才会重新更新到代理端；\n- 不勾选：则代理端不缓存全局变量数据，需要使用到全局变量数据时直接去获取全局变量当前数据。\n## 外网管理禁用时退出代理\n默认不勾选。\n- 勾选：当代理端在【外网管理】界面被设置为黑名单禁止连接服务器时，代理端会直接退出；\n- 不勾选：则代理端不会退出，只是会连接服务器失败。\n## 代理端提示自动化操作\n默认不勾选。\n开市闭市的时候需要使用到，一般是代理端在干活时就会提示自动化操作。在【资源池】里对增加的操作或者指标勾选上”锁定键盘“，此时会发现在运行勾选上”锁定键盘“的操作或者指标的过程中，键盘被锁定了，当前用户无法使用键盘。\n如果勾选”代理端提示自动化操作“，便会在右下方会出现一个提示框提示“自动化操作”，让当前用户知道现在是我们自动化系统在操作而锁定了键盘，不勾选则不提醒。\n## 校验机器参数是否在线\n默认不勾选。\n检验【机器参数】界面新建的机器是否在线，即勾选了之后，在【机器参数】界面新增的时候，会校验增加的机器是否在线。如果不在线的话，不能新增。不勾选则无论机器是否在线，都可以新增。\n## 设置代理端时间差阈值\n进行代理端时间差阈值设置，默认为3。当代理端时间和服务器事件相差一定值时会产生告警事件。时间单位是秒(S)。\n## 代理端日志清理和循环机制\n默认不启用。\n设置循环文件个数和文件大小，第一个文件到达指定大小会将代理端日志写到第二个文件，以此类推。当最后一个文件写满时，删除第一个文件，将其后文件名 xxx_N 改为 xxx_N-1，继续写在最后一个文件。\n>**[info] 提示**\n>\n> &emsp;此处的代理端日志指的是勾选“记录脚本执行日志”后，记录到 TraceYYYYMMDD.db 文件中的脚本日志。\n## 代理端更新并发数\n代理端更新时允许的并发数量设置，超过并发数的只能等待更新，默认为0。\n## 启用Agent离线默认通知\n默认不勾选。\n- 勾选：新代理(【机器人管理】页面原本不存在的代理)连接上 server 后，在【机器人管理】页面将会自动勾选上”离线通知“；\n- 不勾选：则不管新旧代理连接上 server 都不会在机器人管理页面自动勾选上”离线通知“。\n若想指定用户收到相关的通知信息，需与`Agent离线通知`功能搭配使用。\n1. 勾选`启用Agent离线默认通知`，新代理连接上server后，在【机器人管理】页面将会自动勾选上”离线通知“；\n2. 在【系统设置】-通知分组下，对`Agent离线通知`进行配置：\n   可选择`弹框通知`、`语音通知`、`生成事件`、`短信`、`微信`、`邮件`以及`离线后几秒进行通知`的方式进行通知。其中“弹框通知”、“语音通知”、“生成事件”这三种方式，不受【机器人管理】界面中的设置所影响，而“短信”、“微信”、“邮件”这三种方式，还可进行二次配置，如下：\n   当在【系统设置】界面勾选了“短信”、“微信”、“邮件”，则在【机器人管理】界面-通知人员-“选择用户”弹窗中，会默认同步勾选上“短信”、“微信”、“邮件”，默认勾选的结果，也可自定义进行修改的。最终Agent离线通知，是否以“短信”、“微信”或者“邮件”的方式通知，以【机器人管理】界面-“选择用户”弹窗中所设置的通知方式而定。\n##  Agent连接审核\n默认不勾选。\n在【外网管理】界面勾选上启用和黑名单（此配置项生效前提）：\n-  勾选：则新的代理端连接服务器时，会自动添加到黑名单中，需要在【外网管理】界面把新的代理端移出黑名单后才可以正常连接到服务器；\n- 不勾选：则新的代理端可以直接正常连接到服务器。\n  >**[info] 提示**\n  >\n  > &emsp;新的代理端指的是之前从来没有连接过服务器的代理端。\n## 对公开户助手\n默认是不勾选状态。当勾选了“对公开户助手”，鼠标右键代理端托盘，会显示对公开户助手。该处显示的对公开助手是进入恒丰银行 web 网页的快捷入口。\n## 代理端远程控制提示\n默认不勾选。\n默认是不勾选状态。单击【机器人管理】界面在线代理端的”远程“按钮，即可实现到远程。\n- 当勾选了`代理端远程控制提示`，此时单击”控制“按钮时，被控制的远程机器会出现 “XX 用户通过 XX 机器正在远程操作”的提示内容；\n- 当不勾选`代理端远程控制提示`，则单击”控制“按钮时，可直接进行远程操作，无任何提示弹框出现。\n## Agent流量记录\n默认是不勾选状态。\n- 当勾选`Agent流量记录`时，在【流量视图】界面会记录 Agent 的发送流量和接收流量，单击”详情“按钮，可在界面右侧查看 Agent 流量。可根据【流量视图】界面右上角的查询日期和阈值来设置显示的流量值。\n- 不勾选`Agent流量记录`则不记录。\n## 快捷键配置\n`快捷键配置`功能：允许自定义终止代理线程的快捷方式，默认不勾选“终止代理线程”，且编辑框显示无。\n勾选“终止代理线程”，在编辑框中输入想设置的快捷键即可。\n> **[warning] 注意**\n>\n> - 快捷键仅支持“Ctrl+”任意搭配。\n> - 在进行快捷键编辑时，建议将输入法切换至英文，在进行输入。\n## 保留代理端临时目录文件(天)\n默认填写0。\n可设置保留代理端临时目录文件的天数，设置后，需在【任务配置】界面-系统任务-设置清除数据的定时任务，当到达指定时间时，会自动执行清除数据任务，任务执行成功后，清除掉不在保留天数之内的文件，即清除 Agent 目录下 Temp 文件夹里不在保留天数内的文件。\n>**[info] 提示**\n>\n>- AomScript.py、AgentG.exe、AgentSpy.exe、AgentSpy.log、帮助信息 .db 文件会被过滤掉，不会被清除；在执行自动清除数据任务的期间内，代理端需在线。\n>- 在保留天数不足60天时，按60天计算，脚本相关的临时文件，在超过60天后才会做清理。\n## 切换备机延迟采集指标\n默认不启用。\n该功能是当从主机切换到备机时，可设置备机延迟采集指标时间。在“切换备机延迟采集指标”弹框中，勾选“启动”并且设置延迟采集时间（如设置3分钟），当主机断开连接切换到备机时，前3分钟将不做指标采集，3分钟过后，再开始指标采集，上述的相关操作，只需在主机进行配置即可。\n## 记录Shell历史命令\n默认勾选。\n该功能是将shell脚本的执行等情况记录到 “.bash_history” 文件中，不勾选则不记录，默认为勾选状态。勾选“记录 Shell 历史命令”后，执行的 shell 脚本命令会记录到用户的 “.bash_history ” 文件中，该文件在用户家目录下的 “.bash_profile” 文件夹中，如 ”/root“ 录下。\n## 上传下载函数权限\n默认不启用。\n勾选启用，增加权限目录，则在使用上传文件、下载文件的相关函数时，只能对系统设置中所设置的目录下的文件进行操作。即只能上传或下载权限目录下的文件。\n>**[info] 提示**\n>\n> - 目录只填写到文件夹，如：“F:\\文档\\测试\\”。\n> - 只有在代理端执行流程时才生效，在控制台无限制。\n## Ansible分发路径\n默认路径为“/root/”。\n该功能设置的是 Ansible 分发的基础路径，Ansible 文件分发的路径可由三部分构成：基础路径+用户名+自定义路径（“自定义路径”为可选设置项，可根据个人所需进行设置）。 \n具体用法如下：\n1.  在 “Ansible 分发路径”中设置基础路径为：“/root/test/” (此路径指的是需要分发文件的目标机器存在的路径，即拥有 Ansible 环境的目标机器存在的路径)。 \n2. 在【组件管理】界面创建一个 yaml 脚本类型的组件，单击”运行“-”远程配置“，在弹出的“远程配置”弹框中配置机器存放路径。情况如下： \n   - 由于在步骤1中设置了基础路径，因此在“远程配置”弹框-机器存放路径栏中，会自动生成一个路径，且路径构成：Ansible 分发路径+执行脚本的用户（此路径会随着“基础路径”和“用户”的更改而更改）。如当前使用的是 admin 用户执行脚本，则自动生成的路径为 “root/test/admin/”，此时文件会分发到 Ansible 目标机器的 “root/test/admin/” 路径下。\n   - 在“远程配置”弹框中，自动生成目录的后方，还有一个文本编辑框，在该编辑框中可设置自定义路径，且路径构成：自动生成的路径+自定义路径。如设置自定义路径为 “File/” ，则路为 “root/test/admin/File/” ，此时文件会分发到 Ansible 目标机器的 “root/test/admin/File/” 路径下。\n## 处理重复IP停用密码\n默认不勾选。\n启用该功能，在处理重复 IP 时无需输入密码进行确认。\n- 勾选`处理重复 IP 停用密码`，在【机器人管理】界面，单击”批量“按钮，在批量按钮下拉栏中，单击”处理重复 IP“按钮，在处理重复 IP 时，无密码确认弹框弹出，直接单击”确认“按钮即可完成重复IP处理操作。\n- 不勾选`处理重复 IP 停用密码`，在处理重复 IP 时，单击”确定“按钮，会有密码确认弹框弹出，通过输入密码进行确认之后，才可完成重复 IP 处理操作。\n## 代理端连接显示IP必填\n默认不勾选。\n为了解决 Agent 通过负载连接，无法获取真实 IP，导致 IP 冲突的问题，从而增加了“代理端连接显示 IP 必填”的功能。\n-  若勾选`代理端连接显示 IP 必填`，启动 Agent，需要填写显示 IP 才能连接 Agent；不填写显示 IP，在代理端右下角会提示未填写 IP，无法连接 Agent。\n- 若没有勾选`代理端连接显示 IP 必填`，启动 Agent，填写显示 IP 或不填写显示 P，均可以连接 Agent。 注意：对于已连接的代理端，在完成配置后需重启代理端。 \n## 生成kcmin.host文件\n默认不勾选。\n勾选`生成kcmin.host文件`，启用 agent 连接 server，连接成功后，在 agent 同级目录下会生成一个 “kcmin.host” 文件（文件内容为：http://127.0.0.1:12570/proxy?time=$time$ ，其中127.0.0.1需更改为 agent 所连接的 server IP）；配置完成后，可通过执行组件或通过流程调用组件的方式实现检查并推送企微。\n## 启用多线程推送指标值\n>**[info] 提示**\n>\n> &emsp;该功能只有在标准版本和采集中间件 logo 才生效。\n- 勾选`启用多线程推送指标值`，则将会启用多线程指标推送，且当连接代理段时，会在 agent 的 config 文件中生成 “MultiIPScriptPost=1” 字段；\n- 当不勾选`启用多线程推送指标值`，则为单线程指标推送，效率差。\n## Agent连接鉴权\n>**[info] 提示**\n>\n> &emsp;该功能为交行运营平台定制化开发。\n- 勾选上`Agent连接鉴权`，则代理端需通过命令进行启动，启动命令为：Agent.exe -t token host port（其中 Token 需通过 “TCoreDM.GetAgentToken” 接口进行获取，host 指需要连接的 serverIP；port 指需连接的 server 端口）；\n- 不勾选`Agent连接鉴权`，则可直接启动代理。\n## Agent启动显示主界面\n默认不勾选。\n在关闭了Agent主界面，且无法通过单击Agent托盘重新打开Agent主界面的情况下，可通过设置“Agent启动显示主界面”功能，双击“Agent.exe”，重新打开Agent主界面。具体操作如下：\n在 Agent 已连接当前服务器的前提下：\n- 若勾选 Agent启动显示主界面，并重启该 Agent，则双击“Agent.exe”时，会弹出Agent主界面；\n- 若取消勾选 Agent启动显示主界面，并重启该 Agent，则双击“Agent.exe”时，不会弹出Agent主界面；\n## 是否锁屏（判断锁屏）\n该功能主要提供三种方式判断当前机器的锁屏状态，以方便解锁远程机器锁定的屏幕。\n>**[info] 说明**\n>\n> &emsp;“是否锁屏”配置项是在 **2024-01-22** 及之后的 server 版本中更新为“判断锁屏”。\n| 版本                            | 配置项名称 | 功能                     | 方式一   | 方式二   | 方式三         | 是否支持单个代理端配置                                       |\n| ------------------------------- | ---------- | ------------------------ | -------- | -------- | -------------- | ------------------------------------------------------------ |\n| 原版本                          | 是否锁屏   | 全局配置判断机器锁屏状态 | 旧函数   | 新函数   | 新旧混用       | /                                                            |\n| 2024-01-22 及之后的 server 版本 | 判断锁屏   | 全局配置判断机器锁屏状态 | 连接状态 | 会话状态 | 会话解锁后复核 | 【机器人管理（代理端管理）】界面-配置-“代理配置”弹框中新增“判断锁屏”功能，该功能配置项优先级高于【系统设置】-代理端-“判断锁屏”配置项 |\n![image-20240123164226800](agent.assets/image-20240123164226800.png)\n- 连接状态（旧函数）：通过连接状态（机器是否开机）来判断是否锁屏。\n- 会话状态（新函数）：通过远程会话状态来判断是否锁屏。\n- 会话解锁后复核（新旧混合）：先通过会话状态判断屏幕是否锁屏，若判断已解锁，会再通过连接状态去复核是否锁屏；若判断未解锁，则不会再通过连接状态去复核是否锁屏。\n使用`判断锁屏`功能在代理端目录下的 “Config.ini” 配置文件 “[Main]” 中会对应不同的字段和不同方式的值：\n【系统设置】中`是否锁屏（判断锁屏）`功能：\n```\n[Main]\nIsLockScreen=0   # 连接状态，默认（旧函数）\nIsLockScreen=1   # 会话状态（新函数）\nIsLockScreen=2   # 会话解锁后复核（新旧混用）\n```\n【机器人管理（代理端管理）】界面-配置-“代理配置”弹框中的`判断锁屏`功能：\n```\n[Main]\nAgentIsLockScreen=0   # 连接状态\nAgentIsLockScreen=1   # 会话状态\nAgentIsLockScreen=2   # 会话解锁后复核\nAgentIsLockScreen=3   # 使用系统设置（默认）\n```\n> **[warning] 注意**\n>\n>  &emsp;设置完成后，需要重启代理端方可生效。\n## Linux代理端脚本最大线程数\n可设置连接 Linux 服务器的代理端脚本线程数，Linux 代理端脚本最大线程数系统默认为30。\n> **[info]说明**\n>\n>  &emsp;手动设置线程数区间值为3～100。\n如：设置好 Linux 代理端脚本最大线程数为 3 时，在控制台【机器人线程】界面可查看到最大只有三个线程数在切换进行：\n![image-20231012154731291](agent.assets/image-20231012154731291.png)\n![image-20231012154801760](agent.assets/image-20231012154801760.png)\n> **[warning]注意**\n>\n>  &emsp;若系统设置 Linux 代理端脚本最大线程数不成功，请检验 Linux 机器下配置文件 config.ini 线程数设置是否生效，若设置不生效，请更新最新版本 kagent 文件。\n>\n> ![image-20231012155741325](agent.assets/image-20231012155741325.png)\n## Agent连接校验IP和标识\n该系统设置勾选启用可对正在连接服务器的代理端进行 IP 和 ID 标识校验，当正在连接服务器的代理端 IP 或 ID 标识与已连接服务器的代理端一致时，则不允许连接，并在屏幕右下角出现弹框提示，默认不勾选。\n> **[info]  说明**\n>\n> &emsp;该设置在 **2024-02-05** 及之后的 server 版本中由同时校验 IP 和标识更新为分别校验 IP 和标识，以解决校验时 IP 不变的正常机器更换新机器后代理端无法成功连接 server 的问题。\n原版本与 **2024-02-05** 之后版本区别如下：\n版本\n名称\n功能\n勾选项一\n勾选项二\n原版本\nAgent连接校验IP和标识\n支持对正在连接服务器的代理端同时进行IP和标识校验\nAgent连接校验IP和标识\n/\n2024-02-05及之后的 server 版本\nAgent连接校验IP和标识\n支持对正在连接服务器的代理端分别进行IP和标识校验\n连接时校验IP\n连接时校验标识\n **2024-02-05** 之后版本功能使用说明：\n>**[warning] 注意**\n>\n>&emsp;当校验 IP（或标识）且正在连接代理端与已连接代理端 IP（或标识）一致时，若已连接的代理端离线，正在连接的代理端仍不可连接，需先删除离线代理端后才能连接。\n![image-20240220164351502](agent.assets/image-20240220164351502.png)\n勾选项\n当正在连接代理端与已连接代理端IP一致\n当正在连接代理端与已连接代理端标识一致\n仅勾选“连接时校验IP”\n    正在连接的代理端显示IP重复无法连接，且在右下角出现IP重复错误弹框提示\n标识一致的情况下都无法连接\n仅勾选“连接时校验标识”\n仅弹出提示代理端重复IP弹框但仍允许正在连接的代理端连接\n正在连接的代理端显示无法连接，且在右下角出现标识冲突错误弹框提示\n同时勾选“连接时校验IP”和“连接时校验标识”\n    正在连接的代理端显示IP重复无法连接，且在右下角出现IP重复错误弹框提示\n正在连接的代理端显示无法连接，且在右下角出现标识冲突错误弹框提示\n原版本功能使用说明：\n- 勾选`Agent连接校验IP和标识`：当正在连接的代理端 IP 或 ID 标识与已连接的代理端一致时，两种情况都不予连接，并在右下角出现错误弹框提示。\n  > **[warning]  注意**\n  >\n  > &emsp;错误弹框提示是在 2023-12-11 及之后的 server 版本中新增的功能。\n  - 正在连接的代理端 ID 与已连接的代理端一致时，正在连接的代理端会显示标识冲突，无法连接，并在右下角出现错误弹框提示，如下图所示：\n    ![image-20231214103432134](agent.assets/image-20231214103432134.png)\n  - 正在连接的代理端 IP 与已连接的代理端一致时，正在连接的代理端显示重复，无法连接，并在右下角出现错误弹框提示，如下图所示：\n    ![image-20231214105305909](agent.assets/image-20231214105305909.png)\n- 不勾选`Agent连接校验IP和标识`：不对正在连接服务器的代理端进行 IP 和 ID 标识校验，但 ID 标识一致的情况下都不允许连接。\n  - 当正在连接的代理端 IP 与已连接服务器的代理端一致时，仅弹出提示代理端重复 IP 弹框但仍允许连接，此时在【机器人管理】界面可以看到两个在线相同的代理端 IP。\n    ![image-20231117095959377](agent.assets/image-20231117095959377.png)\n    ![image-20231117101255434](agent.assets/image-20231117101255434.png)\n  - 当正在连接服务器的代理端 ID 标识与已连接服务器的代理端一致时，则正在连接的代理端显示标识冲突，无法连接。\n    ![image-20231117095913899](agent.assets/image-20231117095913899.png)\n## 代理远程提示\n该功能主要控制【机器人管理】界面中的“远程”连接功能。\n>**[warning]  注意**\n>\n>&emsp;仅支持 Windows 代理。\n- 设置启用`代理远程提示`：在【机器人管理】界面单击“远程”连接目标代理时，目标代理机器会弹出“远程提示”弹框，可手动选择“同意”或“拒绝”远程连接请求，也可设置指定时间内不处理则自动选择“同意”或“拒绝”远程连接请求。\n  - 勾选`超时默认同意`：超过设置远程请求提示框的时间不处理后，会自动默认同意代理远程连接。\n  - 不勾选`超时默认同意`：超过设置远程请求提示框的时间不处理后，会自动默认拒绝代理远程连接。\n  > **[info]  说明**\n  >\n  > &emsp;错误弹框提示是在 2023-12-11 及之后的 server 版本中新增的功能。\n  1. 启用并设置“代理远程提示”功能，以及设置“自定义提示框弹出位置”，其中勾选“自定义弹出位置”，左距为0，顶距为0，表示提示框弹出位置在左上角，以此类推。\n     ![image-20240409192730841](agent.assets/image-20240409192730841.png)\n  2. 远程目标代理。\n     “192.168.104.247”机器在【机器人管理】界面对“192.168.104.99”机器请求远程连接。\n     ![image-20231229094217276](agent.assets/image-20231229094217276.png)\n     此时“192.168.104.99”机器界面会弹出“远程提示”弹框，可手动选择“同意”或“拒绝”远程连接请求。\n     ![image-20231229093118520](agent.assets/image-20231229093118520.png)\n     若单击“同意”按钮或超过默认时间不处理则直接远程连接“192.168.104.99”机器，若单击“拒绝”按钮则“192.168.104.247”机器界面会弹出“代理端已拒绝远程”提示弹框。\n     ![image-20231229094321014](agent.assets/image-20231229094321014.png)\n- 不启用`代理远程提示`：直接远程连接目标代理，默认不启用。\n## 代理连接缓冲\n默认不勾选。\n适用于集群部署的 Server 连接了大量代理的情况，在部分 Server 失效或停止时，剩下的 Server 会处理离线的 Server 负责的代理；如果离线的 Server 是 master ，剩下的 Server 会自动选出一个新的 master 。此设置项优化了代理切换速度。\n> **[warning]  注意**\n>\n> &emsp;代理连接缓冲是在 **2024-07-19** 及之后的 server 版本中新增的功能。\n- 勾选上`代理连接缓冲`，当集群 Server 部分离线时，其余 Server 接管离线代理的速度得到明显提升；\n- 不勾选`代理连接缓冲`，当集群 Server 部分离线时，其余 Server 接管离线代理的速度相对较低。\n## 代理跨天恢复事件\n默认不勾选。\n该功能主要是用于控制代理离线多天后，再恢复时，系统是否产生该代理“恢复正常”的代理端事件。\n> **[warning]  注意**\n>\n> &emsp;代理跨天恢复事件是在 **2024-08-07** 及之后的 server 版本中新增的功能。\n设置跨天离线代理产生“恢复正常”的代理端事件前，需设置好3个前提条件：\n 1)【系统设置】-通知-Agent离线通知，勾选“生成事件”+“离线后X秒通知”；\n 2)【系统设置】-告警配置-告警恢复事件，勾选“启用”；\n 3)【代理端管理】选择该代理，勾选“离线通知”列。\n- 勾选上`代理跨天恢复事件`，代理离线多天后，再恢复时，系统会产生该代理“恢复正常”的代理端事件，即用户能在【事件查询】界面查看到该代理“恢复正常”的代理端事件；\n  >**[info]  说明**\n  >\n  >&emsp;如下图所示，当代理10.10.2.32在2024-07-31离线后，在2024-08-05才恢复正常，即已经跨多天才恢复正常，此时系统产生了该代理“恢复正常”的代理端事件：\n  >\n  >![image-20240813201751048](agent.assets/image-20240813201751048.png)\n- 不勾选`代理跨天恢复事件`，代理离线多天后，再恢复时，系统不产生该代理“恢复正常”的代理端事件，即用户无法在【事件查询】界面查看到该代理“恢复正常”的代理端事件。"
  },
  {
    "text": "# 通知\n## 营业部离线通知\n营业部离线时，可以选择短信或邮件的方式来通知指定用户，默认处于不勾选状态。\n- 若选择短信通知，则所选择的通知人员必须配置了手机号。\n- 若选择邮件通知，则所选择的通知人员必须配置了 E-Mail。\n- 若选择离线通知方式，用户可自定义设置离线时长多久后才收到通知。\n## Agent离线通知\nAgent离线时，可选择`弹框通知`、`语音通知`、`生成事件`、`短信`、`微信`、`邮件`以及`离线后几秒进行通知`的方式进行通知，默认处于不勾选状态。\n在进行`Agent离线通知`配置时，需要确保【机器人管理】界面，“离线通知”处于勾选状态。\n默认处于不勾选状态。\n1. 在【机器人管理】页面，勾选`离线通知`；\n2. 在【系统设置】的“通知”分组下`Agent离线通知`，可选择`弹框通知`、`语音通知`、`生成事件`、`短信`、`微信`、`邮件`以及`离线后几秒进行通知`的方式进行通知。其中“弹框通知”、“语音通知”、“生成事件”这三种方式，不受【机器人管理】界面中的设置所影响，而“短信”、“微信”、“邮件”这三种方式，还可进行二次配置，如下：\n   当在【系统设置】界面勾选了“短信”、“微信”、“邮件”，则在【机器人管理】界面-通知人员-“选择用户”弹窗中，会默认同步勾选上“短信”、“微信”、“邮件”，默认勾选的结果，也可自定义进行修改的。最终Agent离线通知，是否以“短信”、“微信”或者“邮件”的方式通知，以【机器人管理】界面-“选择用户”弹窗中所设置的通知方式而定。\n>**[info] 提示**\n>\n> &emsp;若勾选`离线后`，且填写了离线后几秒进行通知，则还需要勾选上其他通知方式；如勾选`弹框通知`，则在指定秒数后再进行弹框通知。\n## 系统主动离线不产生离线通知\n默认不勾选`系统主动离线不产生离线通知`。\n在已配置 Agent 离线通知的前提下：\n- 若勾选`系统主动离线不产生离线通知`，则用户主动让代理离线时，将不会产生离线通知。例如：用户在代理端主界面或者【机器人管理】界面，单击”重启代理“，此时系统不会产生离线通知。\n- 若不勾选`系统主动离线不产生离线通知`，则只要代理端离线，都会产生离线通知。\n## 生成事件通知\n系统发生异常时生成事件通知，可以选择短信、邮件和语音通知三种方式的通知方法。系统事件接收人一般发送给本系统管理员。\n## 短信告警内容限制\n- 启用`短信告警内容限制`，可以自定义设置大于 XX 字符自动截取内容。例如：启用后，设置短信内容大于72字符自动截取，若所有的短信通知中若存在大于72字符的短信内容，则收到的短信通知内容中只会有72字符。\n- 不启用`短信告警内容限制`，则不限制短信内容，默认不启用`短线告警内容限制`。\n## 系统License到期预警\n默认不启用`系统License到期预警`。\n勾选“启用”，启用`系统 License 到期预警`，控制台和代理端到达指定的百分比之上和授权日期剩余指定天数预警，两者达到其中过一个条件就会出发预警，可选择指定的用户，用户接受预警通知，通知方式有以下三种：\n- 勾选“短信通知”，前提是能成功接收到短信；\n- 勾选“邮件通知”，前提是能成功接收到邮件；\n- 勾选“事件通知”，则会产生事件（事件通知仅 Admin 超级管理员可看）。\n>**[info] 提示**\n>\n> &emsp;需先在`用户管理`界面配置好用户的手机和邮箱，才能进行相应的短信和邮件通知。\n## 启用弹框通知\n- 勾选`启用弹框通知`，在控制台的右下角会出现弹框通知，默认勾选`启用弹框通知`。\n- 不勾选`启用弹框通知`，即使在系统设置了相关的弹框通知，在控制台的右下角也不会出现弹框通知。\n## 事件通知\n- 勾选`事件通知`，在系统首页会查看到事件，事件后方的按钮是”通知“按钮，需先单击”通知“按钮后才会出现”处理“按钮。\n- 不勾选`事件通知`，在系统首页也会查看到事件，但事件后方的按钮直接是”处理“按钮，默认不勾选`事件通知`。\n## 系统环境号\n按F2键，可以选择空、生产、同城、异地、001、002、003。此处设置好环境号后，则在采集策略的环境号也需与该处设置一样，采集策略才生效，否则不生效。\n例如：此处设置的环境号为生产，则指标中设置的采集策略的环境号也为生产时，指标的采集策略会生效，否则指标则不受采集策略的限制。\n## 事件忽略\n- 勾选`事件忽略`，则对系统【首页】、【实时事件】和【事件查询】界面中的事件进行处理时，弹框不会出现”忽略“按钮。\n- 不勾选`事件忽略`，则对事件进行处理时，弹框会出现”忽略“按钮，默认不勾选`事件忽略`。\n## 禁用邮件\n- 勾选`禁用邮件`，系统不支持邮件的发送。\n- 不勾选`禁用邮件`，则可以支持邮件的发送，默认不勾选`禁用邮件`。\n## 启用文件监控事件\n- 勾选`启用文件监控事件`，当有异常信息时会产生事件，并且会发送邮件或者短信来通知系统接收人，一般要关联事件通知一起使用。\n- 不勾选`启用文件监控事件`，则按照自定义的事件配置进行相应的通知，默认不勾选`启用文件监控事件`。\n## 任务调度异常事件\n- 勾选：则任务调度异常时会产生事件，默认勾选`任务调度异常事件`。\n- 不勾选：则不会产生事件。\n## 默认重置指标状态\n- 勾选`默认重置指标状态`，会在处理事件的弹框中自动勾选上重置指标状态，默认勾选`默认重置指标状态`。\n- 不勾选`默认重置指标状态`，则进行事件处理时需要在处理弹框手动选择是否重置指标状态。\n## 修改参数时删除应用下所有虚拟指标\n该功能默认处于不勾选状态。\n当勾选该功能，则在指标执行脚本前，触发删除所属应用下的虚拟指标，达到清除残留指标的效果。\n## Agent离线通知邮件格式\nAgent 离线时，选择了邮件通知方式，在此处设置邮件通知的格式，则 Agent 离线邮件通知就以此处所配置好的格式发送给被通知用户。\n## Agent离线通知短信格式\nAgent 离线时，选择了短信通知方式，在此处设置短信通知的格式，则 Agent 离线短信通知就以此处所配置好的格式发送给被通知用户。\n## Agent离线通知语音格式\nAgent 离线时，选择了语音通知方式，在此处设置语音通知的格式，则 Agent 离线语音通知就以此处所配置好的格式播报给被通知用户。\n## 短信配置\n可以选择启用短信或启用微信通知，也可以通过函数来控制短信的开关。\n## 短信邮件发送失败通知\n可以选择语音通知和弹框通知两个形式来提醒当前用户短信邮件发送失败，该功能受`启用弹框通知`功能影响。\n## 邮件附件存服务器\n- 勾选`邮件附件存服务器`，在【组件管理】界面调用“发送服务器邮件”函数，传入对应的参数执行该组件，则会在 Server 目录下生成一个 MailAttachment 文件夹，该文件夹用来存储邮件附件。后续在【邮件记录】界面，找到对应的发送邮件记录，单击”重发“或者”转发“，重发或者转发的邮件中，均包含有附件。\n- 不勾选`邮件附件存服务器`，第一次通过“发送服务器邮件”函数发送的邮件拥有附件，但”重发“或”转发“的邮件中将不含有附件。\n上述所说的情况前提是，“发送服务器邮件”函数所发送的邮件含有附件。\n## 登录通知配置\n可通过邮件或微信的方式进行通知，对应的通知记录可在【邮件记录】或【微信记录】界面进行查看。在进行“登录通知配置”前，需要确保系统已配置了“邮件配置”信息或“微信配置”信息，否则邮件或微信无法发送成功。\n## Agent离线通知微信格式\nAgent 离线时，选择了微信通知方式，在此处设置微信通知的格式，则 Agent 离线微信通知就以此处所配置好的格式发送给被通知用户。\n## Agent重连通知\n使用 “Agent重连通知” 设置可在 Agent 离线恢复连接后，以短信、微信、邮件的方式发送 Agent 代理端重连通知信息给指定用户，该设置一般与 “Agent重连通知邮件格式” 、 “Agent重连通知短信格式” 、 “Agent重连通知微信格式” 设置搭配使用。\n> **[warning]  设置前说明**\n>\n> 使用 “Agent重连通知” 设置前，必须先在【机器人管理】界面对代理端勾选“离线通知”设置，并且配置好以下环境：\n>\n> - 在【环境配置】-【短信/微信/邮件配置】界面配置短信/微信/邮件平台信息。\n>\n> - 在【权限管理】-【用户管理】界面对通知人员配置好 EMail /手机/微信用户信息。\n>\n> - 在【机器人管理】界面配置勾选“重连通知”并配置“重连通知人员”，不配置重连通知人员则默认通知所有具有该代理端资源权限的用户。\n>\n>   ![image-20231020150514771](notice.assets/image-20231020150514771.png)\n1.“Agent重连通知” 及相关设置\n在【系统设置】界面设置 “Agent重连通知” 项，选择以短信/微信/邮箱方式发送通知信息，并在 “Agent重连通知短信/微信/邮箱格式” 项设置发送的短信/微信/邮箱通知内容模板：\n> **[info]  说明**\n>\n> &emsp;以下使用发送邮件通知方式为例。\n![image-20231020151439144](notice.assets/image-20231020151439144.png)\n![image-20231020151937352](notice.assets/image-20231020151937352.png)\n2.发送代理端离线重连通知\n当代理端离线后重连时，被通知用户会收到相应邮箱信息，且在【邮件记录】界面可查看得到发送的邮箱记录。\n![image-20231020151534811](notice.assets/image-20231020151534811.png)\n![image-20231020150356088](notice.assets/image-20231020150356088.png)\n## Agent重连通知邮件格式\n该设置需与 “Agent重连通知” 设置搭配使用，选择发送不同的参数内容，可设置 Agent 代理端离线重连时发送的邮箱通知格式模板，如下图所示：\n![image-20231020151937352](notice.assets/image-20231020151937352.png)\n## Agent重连通知短信格式\n该设置需与 “Agent重连通知” 设置搭配使用，选择发送不同的参数内容，可设置 Agent 代理端离线重连时发送的短信通知格式模板，如下图所示：\n![image-20231020152349728](notice.assets/image-20231020152349728.png)\n## Agent重连通知微信格式\n该设置需与 “Agent重连通知” 设置搭配使用，选择发送不同的参数内容，可设置 Agent 代理端离线重连时发送的微信通知格式模板，如下图所示：\n![image-20231020152418997](notice.assets/image-20231020152418997.png)\n## 邮件通知配置\n- `启用邮件发送失败重试`：该开关启用之后，邮件发送失败时可实现自动重发。勾选并设置重发次数n后，邮件重发失败时，会自动重发n次。设置为0时不重发。默认不勾选。\n  > **[warning]  注意**\n  >\n  > &emsp;若是密码错误导致失败，则连续自动重发可能会导致邮箱锁住，请根据项目自身情况谨慎使用！\n- `右键发送成功时删除附件备份（在系统设置-邮件附件存服务器启用时有效）`：该开关控制邮件附件的删除。勾选该开关之后，在邮件发送成功时会删除存储在服务器的附件。默认不勾选。\n  > **[warning]  注意**\n  >\n  > &emsp;① 删除附件的前提是已勾选启用系统设置界面的【邮件附件存服务器】配置项。\n  >\n  > &emsp;②附件删除后，再重发邮件将不再带附件。\n## 发送邮件最大缓存数\n该设置需与发送服务器邮件相关函数搭配使用，当发送服务器邮件相关函数发送的邮件数量过大时，需开启此设置，避免服务器的内存增长过快。\n“发送邮件最大缓存数”默认值为：100，即：短时间内发送邮件的数量超过100封时，超过部分的邮件相关信息暂存至 Server 的同级目录下的 Temp 文件夹，邮件发送完成后自动清空；设置为0，即：服务器不缓存邮件信息，下面为具体操作说明：\n![image-20241028102310524](notice.assets/image-20241028102310524.png)\n![image-20241028103035781](notice.assets/image-20241028103035781.png)\n![image-20241028104011279](notice.assets/image-20241028104011279.png)\n![image-20241028102838144](notice.assets/image-20241028102838144.png)"
  },
  {
    "text": "# 告警配置\n## 告警恢复事件\n默认不启用。\n勾选告警恢复正常后是会产生一个恢复正常的事件，默认是不产生恢复事件的。\n## 代理端IP变更生成事件\n- 默认不勾选。\n  - 勾选：代理端所在机器重启时，若 IP 地址发生变更，则系统产生 IP 变更的告警事件并推送；\n  - 不勾选：代理端所在机器重启时，若 IP 地址发生变更，则系统不会产生 IP 变更的告警事件。\n## 重置告警恢复事件\n默认不勾选。\n>**[info] 提示**\n>\n> &emsp;此开关经常和“告警恢复事件”一起共用。\n- 勾选`重置告警恢复事件`\n  - 不启用`告警恢复事件`，对于告警恢复事件，只会产生告警级别的事件，恢复正常级别后的事件不产生，并且告警事件只是在原来事件上改变相应数值和叠加次数；\n  - 启用`告警恢复事件`，对于告警恢复事件，会产生告警级别的事件，恢复正常级别后会在原来这条事件里改变级别为正常，且会改变颜色，但是再次从正常变为告警时，级别也会改变为告警级别且颜色变化。\n- 不勾选`重置告警恢复事件`\n  - 不启用`告警恢复事件`，对于告警恢复事件，只会产生告警级别的事件，恢复正常级别后的事件不产生，并且告警事件只是在原来事件上改变相应数值和叠加次数；\n  - 启用`告警恢复事件`，对于告警恢复事件，会相应新增一件告警级别和正常级别的事件。\n## 事件处理类型定义\n事件处理类型定义，是一种自定义的事件处理类型，当需要自定义多个类型时，换行分隔即可。定义好后，在首页告警列表和事件告警列表里进行事件处理时，弹出的“处理事件”窗口里可以选择事件类型。\n>**[warning]  注意**\n>\n>&emsp;若是定义了事件处理类型，则在处理事件时“处理备注”为必填项；若是没有定义事件处理类型，则“处理备注”为选填项。“处理备注”是否必填的配置在**20240418**及之后发布的版本中新增。\n>\n> ![image-20240530113321032](alarm-configuration.assets/image-20240530113321032.png)\n>\n>  ![image-20240530113427737](alarm-configuration.assets/image-20240530113427737.png)\n## 前一工作日告警恢复后推送事件\n默认不勾选。\n- 勾选：则前一工作日的告警事件在今天工作日恢复正常，会推送事件；\n- 不勾选：则前一工作日的告警事件今天工作日才恢复正常则不会推送事件。\n## 自动处理事件\n默认不勾选。\n- 勾选：若是指标从异常恢复正常时，之前所产生的异常事件均会被自动处理。自动处理的事件可以在【事件查询】页面进行查看，事件的处理状态为“自动处理”。\n  例如：指标一直产生了事件，配置了自动处理后，在指标恢复正常之前还一直产生事件，此时指标恢复正常，则此时的事件就会自动处理。\n- 不勾选：则不会自动处理。 \n  >**[warning] 注意**\n  >\n  >- 启用“告警恢复事件”，恢复正常时的事件（即事件的级别为正常时）是不会被处理的。 \n  >\n  >- 设置完毕后需要重启控制台后才生效。\n## 系统任务执行失败产生事件\n默认不勾选。\n- 勾选：则系统任务在执行失败时会产生事件；\n- 不勾选：则系统任务执行失败不会产生事件。\n## 事件告警配置\n按 F2 可进入编辑状态，可以选择正常、离线、未知、提示、告警、次要、主要和严重这八种级别，选择后会根据相应的设置进行告警。\n## 不合并告警事件\n默认不勾选。\n- 勾选则：不合并告警事件；\n- 不勾选：则会合并告警事件。\n## 告警列表查询天数\n按 F2 可进入编辑状态，默认告警列表查询天数为2天，在首页告警事件里可以看到这个效果。\n## 短时离线恢复后自动处理离线告警\n短时离线恢复后自动处理离线告警时间默认为0秒，一般代理端设置大于零秒时开启该功能。计算时间是离线事件产生的时间到代理重连上来的时间差。在短时间里离线后会在设置的时间内进行重连，并且系统会自动处理完离线告警事件。\n## 启用告警维护期\n默认不勾选。\n当勾选`启用告警维护期`， 在维护期时间内和代理相关的指标告警，将不进行事件推送。"
  },
  {
    "text": "# 数据\n## 保留历史数据(天)\n`保留历史数据(天)`指历史数据保留天数，默认30天，可自定义进行修改。\n`保留历史数据(天)`功能既与【任务配置】-“系统任务”-“清除数据”搭配使用，又与`保存采集数据(天)`的设置有关联，具体效果如下所示：\n- 当保留天数设置为0时，执行“清除数据”自动任务，则保留的是当天及之前所有的指标历史数据。\n- 当保留天数设置为1或1以上，执行“清除数据”自动任务，保留的是当天及所设置天数之前的所有指标历史数据。\n- 当“保存采集数据(天)”项数据大于“保留历史数据(天)”项数据时，系统会以“保存采集数据(天)”项的数据做为历史保留天数。例如：当采集数据天数为20，历史数据天数为10，清除数据后，系统则保留从当天起的前20天的历史数据。\n不同数据库清除的数据内容，如下：\n- Sqlite 数据库\n  - 清除 “Server\\Data\\History” 路径下的指定天数的 “.db” 文件。\n  - 清除 “Server\\Data\\DBFile” 路径下带 R 的文件夹中的数据，如 “FlowR” 、“ReportR” 等带 R 的数据。\n- 其他数据库：\n  - 按照对应保留的数据天数，清除历史库当中超过该天数的数据（如指标、流程执行数据等等）。\n  - 清除 “Server\\Data\\DBFile” 路径下带 R 的文件夹中的数据，如 “FlowR” 、“ReportR” 等带 R 的数据。\n## 保存采集数据(天)\n采集数据指的是指标和事件的数据，即监控文件数据。由于采集数据产生的数据过大，保存的时间不需要和其他历史数据一样久，所以用此开关可以单独设置监控数据的保存天数，默认30天，可自定义修改天数。\n当保存天数设置为0时，则保存的数据是当天及之前的所有采集的指标和事件的数据；如果保存天数设置为30天，则保存的数据是从当天起的前30天的数据。\n>**[info] 提示**\n>\n> &emsp;此处清除的数据是 “Detailed.db” 文件下的指标运行表和任务运行表指定天数的数据。\n## 保存作业设计数据(天)\n【任务配置】自动任务执行数据保留天数，默认180天（天数从当天日期算起），可自定义修改天数。该数据指的是在【任务配置】界面中显示的执行数据，自动任务的真是执行历史数据并不会被删除。\n如果保存天数设置为0，则保存的是当天及其之前所有的任务执行数据。\n例如：设置保存180天的数据，180天前执行了流程 a，此时在【任务配置】界面当中无法查看流程 a 在180天前的执行数据，但是在流程的执行历史界面中仍然可以查看到。\n>**[info] 提示**\n>\n> &emsp;此处清除的数据是 “Detailed.db” 文件下的指标运行表和任务运行表指定天数的数据。\n## 保留日志数据(天)\n日志数据保留天数，天数从当前日期开始算起。默认设置0天，如果保留天数设置为0，则保存的是当天及之前所有的任务执行数据。\n代理端：每个早上3点清除一次；\n控制台：登录时清除一次；\n服务器：设置清除数据作业任务。\n清除的日志数据为logs文件夹下的数据，如代理端清除日志数据的路径为 “Agent\\logs”，控制台清除日志数据的路径为 “Control\\logs”，服务器清除日志数据的路径为 “Server\\logs”。\n## 数据备份设置\n默认不启用数据备份。\n单击“点击设置”，在弹窗中进行相关配置：\n- 数据备份\n  勾选`启用数据备份`，填上备份路径（备份路径填写到目录即可），在【数据管理】界面，单击“清除”，勾选需要清除的历史库数据，此时将会把所勾选的清除前的历史库数据备份到该路径下。\n  ![image-20230426162948738](data.assets/image-20230426162948738.png)\n- 备份历史天数\n  可自定义选择需要备份的历史天数，有0天、2天、5天三中情况供选择，如下：\n  0天：不备份历史库（History）\n  2天：备份2天的历史库数据，即执行当天和执行前1天的历史库数据。\n  5天：备份5天的历史库数据，即执行当天和执行前4天的历史库数据。\n  具体操作如下：\n  当填写完备份的历史天数后，在【任务配置】界面，“所有任务”-“系统任务”-“备份数据”设置自动任务，待自动任务执行成功后，将会备份指定天数的历史库数据，数据备份的路径为：“Server\\Backup”。\n> **[warning] 注意**\n>\n>  &emsp;数据备份设置弹窗中，“启用数据备份”和“备份历史天数”两者之间无任何关联，为两个独立的功能。\n## 备份基线数据\n- 勾选`备份基线数据`，则在自动执行同步数据任务和手工备份数据时会备份基线数据。\n- 不勾选`备份基线数据`，则不会备份基线数据，默认不勾选`备份基线数据`。\n## 同步数据\n填写同步数据的 IP 地址，并且可以通过单击测试连接按钮来测试此 IP 地址是否可以连接成功，在进行自动任务时会把数据同步到测试成功的 IP 地址上。\n## HTTP不允许访问服务器目录文件\n该功能可对服务器目录下的文件设置访问权限，默认不勾选。\n- 勾选` HTTP 不允许访问服务器目录文件`，仅可访问 web、白名单、temp临时目录、资源目录、制品库以及文件（需要使用制品库版本logo），其他都不允许访问。例如：用户不可以在浏览器地址直接访问 Server 目录下 Config.ini 文件，在浏览器输入 http://服务器IP:端口/Config.ini ，显示“无效权限”。\n  ![image-20230918160922787](data.assets/image-20230918160922787.png)\n- 不勾选` HTTP 不允许访问服务器目录文件`，则可访问 web、白名单、temp临时目录、资源目录、制品库（需要使用制品库版本logo）以及 “...Data/DBFile” 目录里的文件，其他不允许访问。例如：在浏览器输入  http://服务器IP:端口/Data/DBFile/BigScreen/0FE63F6C25F24B0CA877B8EB2A1CDA6E ，可显示该文件内容。\n  ![image-20231103174416258](data.assets/image-20231103174416258.png)\n  ![image-20231103174252582](data.assets/image-20231103174252582.png)\n## 保留备份数据(天)\n`保留备份数据(天)`功能与【任务配置】中的”清除数据“搭配使用。\n备份数据保留天数，默认为0天，可自定义进行修改。\n若保留天数设置为0天，则保存的是当天及之前的所有的备份数据；\n若保留天数设置为30天，则保留的备份数据是从当天起的前30天的数据。\n1. 在【系统设置】设置了保留备份数据天数后。\n2. 在【任务配置】-”系统任务“配置”清除数据“的自动任务，执行”清除数据“任务后，备份天数以外的数据将会被清除，可在“Server\\Backup” 路径下查看结果。\n## 保留服务端临时目录文件(天)\n`保留服务端临时目录文件(天)`功能与【任务配置】-系统任务-清除数据搭配使用，执行自动任务后，将清除“/server/Temp”目录下的不带后缀的文件。文件具体的清除情况，取决于`保留服务端临时目录文件(天)`中天数的设置。\n如下图所示，带后缀的文件和文件夹都将不会被清除。\n![image-20230616100855675](data.assets/image-20230616100855675.png)\n在`保留服务端临时目录文件(天)`后方的编辑框中，按F2进入编辑状态：\n- 天数设置为0：（默认设置天数为0）\n   若天数设置为0，到【任务配置】界面配置“清除数据”系统任务，任务执行后，则不清除任何临时文件。\n- 天数设置为1或1以上：\n  若天数设置为30，到【任务配置】界面配置“清除数据”系统任务，任务执行后，则保留30天内的所有文件，清除超过30天的所有不带后缀的文件。\n## 保留流程录屏文件(天)\n`保留流程录屏文件`功能需与【任务配置】-“系统任务”-“清除数据”搭配使用。设置“保留流程录屏天数”，执行“清除数据”自动任务后，会清除“Agent/Video”目录下超过保留时间的录屏文件。\n> **[warning] 注意**\n>\n> -  录屏文件指Video文件夹下的视频和dat文件，下图文件夹内的视频以及dat文件都将被清除。\n>\n>   ![image-20230705110939492](data.assets/image-20230705110939492.png)\n>\n>   ![image-20230705111015456](data.assets/image-20230705111015456.png)\n>\n> -  默认设置天数为0，若保留天数设置为0时，则不做清除操作。\n> -  保留天数的时间计算会精确到秒，设置时需满足：（清除任务执行时间 - 可清除文件的时间） > 保留天数，公式为：`可保留的录屏文件时间 = （任务执行时间-保留天数-固定值1天）`，即日期小于`可保留的录屏文件时间`的录屏文件会被清除。例如：设置保留天数为1时，清除数据任务执行时间为：2023-04-20 10:59:00，则（2023-04-20 10:59:00）- 1天 - 固定值1天 = 2023-04-18 10:59:00，即2023-04-18 10:59:00之前的录屏文件才会被清除。\n>\n具体效果如下所示：\n设置了`保留流程录屏文件(天)`：\n- 执行“清除数据”自动任务后，只清除“Agent/Video”目录下超过保留时间的录屏文件；\n- 若设置了`视频保存位置`，执行“清除数据”自动任务后，会清除所设置的“视频保存位置”目录以及“Agent/Video”目录下超过保留时间的录屏文件；\n- 若设置了`视频保存位置`和`视频录制存服务器`，则会忽略`视频保存位置`项指定的保存位置，执行“清除数据”自动任务后，会清除除“Server/Data/DBFile/Video”目录以及“Agent/Video”目录下超过保留时间的录屏文件。\n## Nas盘集群文件目录\n该系统设置可用于修改 Server 临时文件存放的目录。使用该设置后，会将默认存放在 “Server\\Data\\DBFile” 目录下的临时文件存储到 “Nas盘集群文件目录” 配置的存放路径中。\n> **[warning]  注意**\n>\n> &emsp;若启用该设置存放数据到指定目录后再关闭，则之前存到该目录下的数据是无法读取的，除非再次启用并配置原来的存放路径。\n![](data.assets/image-20231103125023835.png)\n操作说明如下：\n> **[info]  说明**\n>\n> &emsp;例子说明：执行勾选了录屏功能的流程后，产生的临时文件存放路径从默认的目录修改至指定新目录下。\n1.启用 ”Nas盘集群文件目录“ 设置\n在【系统设置】-“数据”分组下，单击“Nas盘集群文件目录” 设置，填写 Server 临时文件存放的目录。\n![image-20231115200509133](data.assets/image-20231115200509133.png)\n2.执行流程时勾选“录频”执行选项\n在【流程设计】界面启用勾选“录屏”执行选项，执行流程后会产生录制文件等临时文件数据。\n![image-20231115201734597](data.assets/image-20231115201734597.png)\n3.临时文件存放在指定目录下\n此时，执行流程后原来存放在默认目录（“Server\\Data\\DBFile”）下的临时文件已被存储到”Nas盘集群文件目录“ 设置的目录下，原默认目录下不存在新增的临时文件数据，即 Server 临时文件存放的目录已被修改至新目录下。\n![image-20231115203233630](data.assets/image-20231115203233630.png)\n## 主备同时清除数据\n由于原先的主备环境下，主机有清除数据机制，备机没有清除数据机制，会导致备机数据积累过多，因此增加此开关可以进行主备同时清除数据。\n- 勾选`主备同时清除数据`，则主备环境下，用户在主机【任务配置】界面配置“清除数据”系统任务，任务执行时，主机依照主机【系统设置】的配置进行清除数据后，备机依照备机【系统设置】的配置进行清除数据。\n- 不勾选`主备同时清除数据`，则主备环境下，用户在主机【任务配置】界面配置“清除数据”系统任务，任务执行时，主机会清除数据，备机不会清除数据。默认不勾选`主备同时清除数据`。\n>**[info] 说明**\n>\n> -  &emsp;当主机同步备机后，主备机的系统配置相同，此时执行“清除数据”系统任务，主备机按照相同的配置清除数据。\n> -  &emsp;当主机修改系统配置，且未执行同步备机的操作时，主备机的配置可能存在差异；此时执行“清除数据”系统任务，主机依照主机的配置进行清除数据，备机依照备机的配置进行清除数据。"
  },
  {
    "text": "# 报表配置\n## 任务报表使用进程取数\n默认勾选。\n- 勾选：在【任务配置】里部署好报表任务后，执行时任务报表会使用进程取数；\n- 不勾选：则不会使用进程取数。\n## 任务报表取数前杀进程\n默认不勾选。\n- 勾选：在【任务配置】里部署好报表任务后，执行任务取数前会杀进程；\n- 不勾选：则在任务取数前不会杀进程。\n## 任务报表名称\n如果配置项为空，则导出报表名称格式为报表名 [YYYY-MM-DD HH:MM:DD] ；如果配置项设置为：$名称 $(YYYYMMDD HH:MM:DD)，就用新配置报表名称(支持时间通配，其他不是时间通配符的就直接显示字符)。 \n## 任务报表执行超时(分钟)\n对报表进行超时时间的配置（单位：分钟）。在此处设置的时间需要大于5分钟。，默认值为15。\n- 同个报表存在在线和离线代理端时，无论总超时设置为多少，都只会留下最多2分钟再次执行离线代理，若此时离线代理变处于在线状态，则会有相应的数据返回，若还是处于离线状态，则返回指标不存在。 \n- 同个报表存在在线和离线代理端时，在线代理端执行的最长时间为：总超时-2分钟，若在线代理端正常执行的时间远小于（总超时-2分钟），则在线代理端会直接根据自己正常的执行时间来结束在线代理端的执行，然后再检测离线代理端状态，若离线代理端执行时间小于2分钟，则报表也会根据正常检测时长来结束执行，无需等到2分钟后再结束报表执行。\n## 浏览报表默认取数\n默认勾选。\n- 勾选：则进行报表浏览时会默认取数；\n- 不勾选：则在浏览时不会默认取数。\n## 报表刷数描述显示报表名称\n默认勾选。\n- 勾选：报表在刷数描述时会显示报表名称；\n- 不勾选：则报表在刷数描述时不会显示报表名称。\n## 报表取数通知\n可以选择短信通知、邮件通知和生成事件，若选择邮件通知，则选择的通知人配置了 E-Mail 才可以选择成功。\n## 报表邮件格式\n可以填写内容设置报表短信格式。\n## 报表短信格式\n可以填写内容设置报表邮件格式。\n## 报表历史路径\n手动填写报表历史路径的存放路径，需填写全路径目录，如下图所示。\n> **[info]  说明**\n>\n> &emsp;为空则保存在默认路径下，默认报表历史路径为：“server\\ Data\\ DBFile\\ ReportR\\”，且存放的报表名称为报表编码。\n>\n> ![image-20231211110253850](report-configuration.assets/image-20231211110253850.png)\n![image-20231211105042940](report-configuration.assets/image-20231211105042940.png)\n指定报表历史路径后，保存的报表命名格式为“任务报表名称”中指定的名称格式，如下图所示：\n![image-20231211110624370](report-configuration.assets/image-20231211110624370.png)\n![image-20231211112137051](report-configuration.assets/image-20231211112137051.png)"
  },
  {
    "text": "# 流程配置\n## 关闭流程时提示\n- 勾选`关闭流程时提示`，则关闭流程时会出现弹框提示;\n- 不勾选`关闭流程时提示`，则不会出现弹框提示，默认不勾选。\n## 禁用执行流程时删改参数\n该功能可控制是否允许用户在执行流程时删改参数。当用户在流程设计-编辑参数的弹框里勾选“手动执行流程弹出参数设置”时（如下图所示）：\n- 勾选`禁用执行流程时删改参数`，则流程运行时用户只能在弹出的设置参数框修改参数值，而无法修改参数名称和删除参数；\n- 不勾选`禁用执行流程时删改参数`，则流程运行时用户可以在弹出的设置参数框修改参数名称、参数值和删除参数。默认不勾选。\n![54689d9013ebb2355653c040390a183](flow-configuration.assets/54689d9013ebb2355653c040390a183.png)\n## 是否开启流程发送截图\n控制流程是否发送截图，默认勾选。\n- 勾选发送截图，则【流程设计】界面里，打开一个流程，单击右边的“邮箱”，弹框里面会出现“发送截图”选项；\n- 不勾选则弹框不会出现“发送截图”选项。\n## 流程是否需要审核\n默认勾选。\n- 勾选`流程是否需要审核`，则在【流程设计】界面里，流程编辑完成单击“保存”按钮后，还需要在【流程审核】界面进行流程的审核操作；\n- 不勾选`流程是否需要审核`，则流程编辑完成后单击“保存”按钮即可同时完成流程的保存和审核操作。\n## 保存流程执行快照\n- 勾选`保存流程执行快照`，则先执行一个流程，在执行过程中把 Server 全部停掉，然后再启动 Server 就可以在【执行历史】界面查看到此流程前30秒（从停止 Server 开始算起的）的执行状态；\n- 不勾选`保存流程执行快照`，则无此功能，默认不勾选。\n## 节点重做正常产生事件\n- 勾选`节点重做正常产生事件`，则流程节点重做正常后不会产生事件；\n- 不勾选`节点重做正常产生事件`，则流程重做正常也会生成一个事件，默认不勾选。\n## 允许多实例执行\n默认不勾选。\n- 勾选`允许多实例执行`，则一个流程处于执行中时，其他用户还可以继续执行这个流程；\n- 不勾选`允许多实例执行`，则一个流程处于执行中时，其他用户就不能够执行这个流程。\n## 启用流程任务自动排队\n该设置与“启用流程队列”搭配使用，需先勾选“启用流程队列”：\n> **[info]  说明**\n>\n> &emsp;该设置只影响流程任务的执行，与【流程设计】中手动执行的流程无关。\n- 勾选`启用流程任务自动排队`，当配置的流程任务在前一次流程任务还未执行完成时，若再次触发该流程任务，则流程将会加入到等待队列中进行排队，待前一次流程任务执行完成后再开始执行。\n- 不勾选`启用流程任务自动排队`，当配置的流程任务在前一次流程任务还未执行完成时，若再次触发该流程任务，则触发的流程任务会直接执行。系统默认不勾选。\n## 切换到备机接管流程\n- 勾选`切换到备机接管流程`，切换到备机接管流程，则可以允许在备机里执行主机里的流程，可以在首页中执行接管流程的操作；\n- 不勾选`切换到备机接管流程`，则流程会在主机里等待执行，默认不勾选。\n## 显示仿真探测流程\n默认勾选。若需要在首页当中显示仿真探测流程则勾选，否则不勾选。\n## 执行历史查询天数\n默认为7天，在这可以自定义查询天数，若查询跨度超过设置的天数，需要管理员密码确认。\n## 流程区间执行限制\n默认不启用。\n- 勾选`流程区间执行限制`：\n  - 设置某一时间段允许执行，则流程在这个时间段内就可以执行，但是在这个时间段之外是不可以执行的，此时如果选择了例外流程，则例外流程在允许时间段之内和之外都是可以执行的。\n    例如：有流程1和流程2，设置8:00-10:00允许执行，同时例外流程选择了流程2，此时流程1在8:00-10：00时间段内是可以执行的，但是在8:00-10:00时间段外是不可以执行的，但是流程2在8:00-10:00时间段之内之外都可以执行，即24小时都可以执行。\n  - 设置某一时间段不允许执行，则流程在这个时间段内就不可以执行，但是在这个时间段之外是可以执行的，此时如果选择了例外流程，则例外流程在允许时间段之内和之外都是可以执行的。\n    例如：有流程1和流程2，设置10:00-12:00不允许执行，同时例外流程选择了流程2，此时流程1在10:00-12：00时间段内是不可以执行的，但是在10:00-12:00时间段外是可以执行的，但是流程2在10:00-12:00时间段之内之外都可以执行，即24小时都可以执行。\n  - 若不选择节假日方案，则1.2点设置应用于每一天，即每天都受限制；若选择节假日方案，则1.2点设置不应用于节假日，即节假日不受限制。 \n  - 此处设置同样应用于流程的自动任务。\n- 不勾选`流程区间执行限制`，启用则此开关不生效\n## 启用流程异常操作复核\n勾选`启用流程异常操作复核`，若流程中存在异常节点，人工进行跳过节点、重做节点的操作时，会弹出确认密码弹框，用户需要输入密码进行确认才能进行跳过节点、重做节点的操作。\n默认不勾选。\t\n## 流程节点短信格式\n在【流程设计】里，可以对流程节点进行短信通知设置，在此处设置好流程短信格式，则短信通知里就是以这种配置好的格式发送给被通知用户。\n## 流程节点邮件格式\n在【流程设计】里，可以对流程节点进行邮件通知设置，在此处设置好流程邮件格式，则邮件通知里就是以这种配置好的格式发送给被通知用户。\n## 流程节点微信格式\n在【流程设计】里，可以对流程节点进行微信通知设置，在此处设置好流程微信格式，则微信通知里就是以这种配置好的格式发送给被通知用户。\n![image-20240108092606816](flow-configuration.assets/image-20240108092606816.png)\n![image-20240108092707436](flow-configuration.assets/image-20240108092707436.png)\n## 流程节点告警格\n在【流程设计】里，可以对流程节点进行事件通知设置，在此处设置好流程告警格式，则当执行流程产生告警事件时，就是以这种设置好的告警格式发送给被通知用户。\n## 流程节点时间限制级别\n在流程里选中一个流程节点，对其进行时间限制某个时间段不允许执行，此时这个节点的颜色在执行时显示的是对应级别所设置的颜色。\n默认为“严重”。\n## 流程执行情况查询时间\n设置好开始和结束时间后，首页中显示的流程执行情况就只显示此时间段的执行情况，默认不启用。\n## 启用流程队列\n默认勾选。\n- 勾选`启用流程队列`，流程仅支持一个实例运行的情况下，当流程正在执行时，再次执行流程会提示是否加入队列中。单击确定加入队列中之后，当第一个执行的流程执行完毕后。会自动调起队列中的流程执行。 \n- 不勾选`启用流程队列`， 流程仅支持一个实例运行的情况下，当流程正在执行时，再次执行流程会提示流程图正在执行中。\n## 批量配置节点大小一致\n该功能主要用于控制组件节点进行批量配置时，配置的新节点大小是否和当前选中节点大小一致。勾选则批量配置的新节点大小和选中节点实际大小一致，不勾选则批量配置的新节点大小为默认值（长：120，高：112），默认不勾选。\n> **[info]  说明**\n>\n> &emsp;该设置只影响流程设计的“组件”节点大小。\n- 勾选`批量配置节点大小一致`\n  步骤①：在流程设计中，选中组件节点，更改节点大小；长：200，高：100\n  ![image-20241017092420031](flow-configuration.assets/image-20241017092420031.png)\n  步骤②：在步骤①的基础上，单击【工具】-【批量配置】选中机器；单击“确定”按钮，即可生成与步骤①修改组件节点的大小一致（长：200，高：100）；\n  ![image-20241017092515293](flow-configuration.assets/image-20241017092515293.png)\n  ![image-20241027153915363](flow-configuration.assets/image-20241027153915363.png)\n  ![image-20241017092816702](flow-configuration.assets/image-20241017092816702.png)\n- 不勾选`批量配置节点大小一致`，则【批量配置】生成的节点大小为默认值（长：120，高：112），不以流程设计时更改节点的大小而更改，默认不勾选。\n  ![image-20241017093007674](flow-configuration.assets/image-20241017093007674.png)\n  ![image-20241017093317324](flow-configuration.assets/image-20241017093317324.png)\n## 流程节点简单跳过\n- 勾选`流程节点简单跳过`，则在流程节点跳过的同时，其后的连接线也会跳过；\n- 不勾选`流程节点简单跳过`，则不会跳过连接线。是用来控制【流程设计】里选中节点右键出现的“跳过”，默认不勾选。\n## 流程节点简单显示\n- 勾选`流程节点简单提示`，流程节点可以简单的显示出来；\n- 不勾选`流程节点简单提示`，则不显示，默认不勾选。\n## 存在闭合节点是不允许手动执行流程\n- 勾选此开关，如果要对某个流程进行检查节点连线状态，则还需要在【流程设计】界面打开这个流程，勾选上右侧的“检查节点”，此时单击“执行”按钮即可看到提示框提示此流程的节点连线状态以及代理端总数量和代理端离线数量（多个节点选择的是同个代理端，则这些节点的代理端数量只会统计为1个），此时如果检查到存在未连线节点或者没有闭合连线的节点则会不允许执行；\n- 不勾选此开关，但是在【流程设计】界面勾选了“检查节点”，则检查到存在未连线节点或者没有闭合连线的节点也会允许执行的，默认不勾选。\n>**[warning] 注意**\n>\n> &emsp;此开关设置后需要重启控制台才会生效。\n## 流程节点日志归档\n默认不勾选。\n需要勾选此项，才会在运行的 Agent.exe 目录下生成了一个 “FlowLogs” 目录，并且同一天多次运行同一个流程时，不会新增一个 ”.log“ 文件（文件名会一样），但是会在.log文件里增加日志内容。\n## 流程截图存服务器\n需要将流程截图保存在服务器所在机器则勾选；不勾选截图只保留在代理端。勾选时，当单击查看图片的时候才上传到服务器，默认不勾选。\n>**[warning] 注意**\n>\n> &emsp;① 在“流程截图存服务器”配置项已勾选时，若在**20240329之前**发布的版本里使用【结果截图2】中文函数或者【结果截图】脚本向导函数；则截图仅存服务器；若在**20240329（包含）之后**发布的版本里使用，则截图会同时保存在服务器和本地指定路径下。\n>\n> &emsp;② 若是需要将流程截图保存在服务器所在机器的指定目录下，则需要结合“流程截图存服务器地址”配置项一起使用，该配置在**20240524**（包含）及之后的 Server 版本中新增，具体操作可跳转到[流程截图存服务器地址](#流程截图存服务器地址)进行查看。\n![image-20240329103453365](flow-configuration.assets/image-20240329103453365.png)\n## 手动执行流程不超时\n默认不勾选。\n- 勾选`手动执行流程不超时`，手动执行流程不会超时；\n- 不勾选`手动执行流程不超时`，超过流程设置的超时时间，流程报超时并结束流程。\n## 按时间显示进度\n- 勾选`按时间显示进度`，则流程的执行进度会按照设置的超时时长来显示进度；\n- 不勾选`按时间显示进度`，则流程的进度会按照整个流程的执行进度来显示进度，默认不勾选。\n## 数据队列监控\n单击“点击设置”：\n- 勾选“启用”，设置离线超时时间：当数据队列代理机器人离线状态超过该处所设置的时间时，将会移除该记录，并且在【执行历史】界面记录离线超时；待代理端在线时，该流程也不会执行，默认不启用。\n- 不勾选“启用”，若流程在数据队列因为机器离线没有执行，但当机器在现实，前面因离线没有执行的流程都会直接执行。\n>**[warning] 注意**\n>\n> - 离线超时的记录点击查看的时候不显示机器人。\n> - 手动执行类型的队列，从上一次手动点击执行到下一次手动点击执行的离线时间大于系统设置设置设置的超时时间，即为离线超时。\n## 流程事件合并发送\n- 勾选`流程事件合并发送`，则一个流程在执行过程中出现多个节点有异常信息时，就会合并生成一个事件通知，默认勾选；\n- 不勾选`流程事件合并发送`，则一个流程在执行过程中有几个流程节点有异常信息，就会生成几个事件通知。\n## 流程节点检查代理IP\n- 勾选`流程节点检查代理IP`，流程执行检查代理端IP有没有改变，有时候代理端IP会改变；\n- 不勾选`流程节点检查代理IP`，则流程执行时不会进行代理端IP检查，默认不勾选。\n## 预测流程执行用时\n默认不勾选。\n`预测流程执行用时`即预测整个流程的执行总用时。\n- 勾选`预测流程执行用时`，则流程在执行时，在执行界面右侧的执行进度下方会显示执行总用时，如下图所示：\n  ![image-20230718152133011](flow-configuration.assets/image-20230718152133011.png)\n- 不勾选`预测流程执行用时`，则流程在执行时，在执行界面右侧的执行进度下方显示的执行总用时为0，如下图所示：\n  ![image-20230718152247438](flow-configuration.assets/image-20230718152247438.png)\n> **[info] 提示**\n>\n>  &emsp;此配置项勾选使用可能会导致Server出现卡顿情况，因此不建议勾选使用，新版本已启用。\n## 停止流程时自动停止脚本\n- 勾选`停止流程时自动停止脚本`，则停止执行流程时，会自动停止脚本；\n- 不勾选`停止流程时自动停止脚本`，则停止执行流程时，不会自动停止脚本，默认不勾选。\n## 流程节点异常弹出对话框\n- 勾选`流程节点异常弹出对话框`，在流程设计或者流程列表里执行流程时，若流程节点有异常信息会弹出对话框；\n- 不勾选`流程节点异常弹出对话框`，则在流程设计或者流程列表里执行流程时，若流程节点有异常信息不会弹出对话框，默认不勾选。\n## 流程指定审核人\n对于普通用户而言：\n- 勾选`流程指定审核人`，则流程一定要指定审核人来进行流程审核，自己本身是无法进行流程审核；\n- 不勾选`流程指定审核人`，则可以指定审核人审核，也可以不指定审核人，而是自己本身审核。指定审核人在【流程设计】界面里的“备注”里可以进行设置，默认不勾选。\n## 新建流程通知设置\n单击“点击设置”，必须要勾选上“开启事件通知”该功能才生效。\n勾选“开启事件通知”后，可根据用户所需，选择是否勾选“执行成功”、“执行失败”、“节点异常”；\n若勾选“执行成功”，则在【流程设计】界面新建流程时，新建的流程都会默认勾选上“事件”-“执行成功”。\n若不勾选“开启事件通知\"，则该功能不生效，在【流程设计】界面新建流程时，不会默认勾选上”事件“。\n## 显示流程版本号及日期\n- 勾选`显示流程版本号及日期`，显示流程版本号及变更日期，在流程设计和流程视图中显示流程版本号及变更日期；\n- 不勾选`显示流程版本号及日期`，则不显示，默认不勾选。\n## 流程确认节点配置\n- 选择自动弹出，若需要确认的用户已登录控制台，则流程执行用户确认节点时会自动弹出确认框；若需要确认的用户未登录控制台，则用户登录后需要接管流程并双击执行中的确认节点才会弹出确认框；\n-  选择双击弹出所有用户，执行流程的用户双击确认节点时，需要确认的用户已登录控制台则会弹出确认框，需要确认的用户未登录控制台则需要登录控制台接管流程并双击执行中的确认节点才会弹出确认框；\n- 选择双击弹出自己用户，执行流程的用户双击确认节点时，只会弹出自身的确认框，其他需要确认的用户需要接管流程并双击执行中的确认节点才会弹出确认框； \n- 勾选了只复核自身，则确认框弹出时，非 admin 用户只能够确认自身，不能够确认其他用户，不勾选则其他用户之间可以相互确认； \n- 勾选了只复核执行人，则确认弹框弹出时，则只需要执行人确认，此时需注意：  \n  - 此配置项会与确认节点中“当前用户不允许确认节点”冲突，只能勾选其中一个；  \n  - 此时确认节点只能配置一个。\n## 到达结束节点自动结束流程\n默认勾选。\n- 勾选`到达结束节点自动结束流程`，在执行一个流程的时候，一旦执行完一个结束节点，就会自动结束整个流程；\n- 不勾选`到达结束节点自动结束流程`，则需要执行完流程里的全部流程节点才会结束整个流程。\n## 流程执行结果短信格式\n若配置了流程执行结果短信通知，则流程执行完后，短信会以此处配置好的格式发送出去。\n## 流程执行结果邮件格式\n若配置了流程执行结果邮件通知，则流程执行完后，邮件会以此处配置好的格式发送出去。\n## 禁止流程查看脚本\n默认不勾选。\n- 勾选`禁止流程查看脚本`，则单击流程组件节点，在弹框中不能查看到“查看脚本”按钮；\n- 不勾选`禁止流程查看脚本`，则弹框中可以查看到“查看脚本”按钮，此时用户可以单击此按钮进行脚本的查看。\n## 作业中心只允许管理员指派任务\n- 若勾选，则在【作业中心】界面只允许系统管理员指派任务给其他用户，且普通用户可以将系统管理员指派的任务，指派给其他用户，但不可以主动发起指派流程任务给其他用户。 用法如下：\n  1. 用系统管理员用户登录进入标准版本的控制台，打开【系统设置】界面，勾选“作业中心只允许管理员指派任务”。 \n  2. 在作业中心界面，系统管理员用户单击“编辑”按钮，在弹出框“人工流程配置”中，勾选需要显示的流程，单击“确定”按钮后，主界面显示出勾选的人工流程。 \n  3. 单击人工流程右侧的“指派”按钮，在弹出框“选择用户”中，选择指派的用户，单击“确定”按钮，完成指派。\n  4. 重新开启一台控制台，使用a用户（普通用户）登录进入（注意：a用户已被系统管理员赋予【作业中心】菜单权限），在【作业中心】界面可以查看到系统管理员指派的人工任务，可以将系统管理员指派的任务，再次指派给其他用户。\n  5. a用户可以自己执行流程任务，若主动发起指派流程任务给其他用户，则会弹出提示框提示不能主动发起指派流程任务给其他用户。 \n- 若不勾选，则普通用户可直接指派流程任务给其他用户，默认不勾选。\n## 简化流程节点右键菜单\n默认不勾选。\n- 勾选：则在执行流程过程中右击某个节点，显示出简化后的菜单，简化后右键菜单包括：仅执行本节点、从本节点执行、从本节点后执行、跳过、重做、暂停、跳过节点、停止脚本跳过、停止脚本、查看步进日志、重启代理；\n- 不勾选：则在执行流程过程中右击某个节点，显示右键全部菜单。\n## 执行历史显示报错分类\n- 若勾选，则在执行历史界面增加列头为“错误分类”的一列，若想在“错误分类”一列查看到数据，需要调用“设置流程错误信息”函数设置自定义错误分类信息，例如在组件节点调用“设置流程错误信息”函数，当该组件节点执行错误时： \n  - 若选择重做该组件节点，当重做成功且流程执行完成后，可在【执行历史】界面查看到“错误分类”的具体错误分类信息。 \n  - 若选择跳过该组件节点，流程执行完成后，在【执行历史】界面“错误分类”一列没有数据。\n  - 若该组件所在的流程执行超时，则在【执行历史】界面“错误分类”一列没有数据。 当调用“设置流程错误信息”函数的流程执行成功，也可在【执行历史】界面查看到“错误分类”的具体错误分类信息。 \n- 若不勾选，则在执行历史界面无列头为“错误分类”的一列，默认不勾选。\n## 流程执行前检查异常\n- 若勾选，则在执行流程时，会检查执行流程的 IP 是否发生改变，若 IP 存在变化，则会弹出“流程检查”弹窗，提示 IP 的变化情况。\n  在【流程设计】界面，选中该流程或该流程所在的分组，单击“增加”-“批量操作”-“批量更新 IP”，即可更新 IP ，重新审核后，执行流程的 IP 即为发生改变后的 IP。\n- 若不勾选，则执行流程时不会检查 IP 是否变化，且流程显示的 IP 是变化前的 IP，默认不勾选。\n>**[info] 提示**\n>\n> &emsp;此处所说的 IP 变化是指 IP 的自动改变，不是在流程设计时手动选择其他代理 IP 而带来的改变。\n## 禁用流程组件弹框\n- 若勾选，则在【流程设计】界面，流程调用包含“等待用户确认”函数的组件时，会弹出用户确认弹框，在【任务配置】界面配置该流程任务时，当流程任务执行时，不会弹出用户确认弹框，即除了【流程设计】界面，其他功能界面调用到该流程时，都不会弹出用户确认弹框；\n- 若不勾选，则在【流程设计】界面执行该流程、【任务配置】界面执行该流程任务、以及在其它界面调用执行此流程，都会弹出用户确认弹框，默认不勾选。\n## 锁定流程组件\n锁定流程组件功能是用于进入编辑流程或组件时，如果当前流程或组件没有被用户使用，则作为第一个使用的用户会将该流程或组件自动锁定，其他用户不可进行编辑保存，从而可避免多个人员修改导致覆盖的问题。\n> **[warning]  注意**\n>\n> &emsp;脚本向导组件无锁定功能。\n- 勾选“锁定流程组件”，流程和组件编辑页面菜单栏会出现“解锁”按钮，并可对流程和组件作锁定操作。\n- 不勾选“锁定流程组件”，将不会有锁定流程和组件的操作，默认不勾选。\n下面以锁定组件操作为例展开说明，流程设计效果同下。\n>**[info]  说明**\n>\n>&emsp;具体以 “user” 、“zs” 用户以及 “testA” 组件为例。\n1. “user” 和 “zs” 用户分别先后进入 “testA” 组件编辑界面内。\n   - 使用 “user” 用户先进入 “testA” 组件编辑界面，可以看到该组件编辑界面菜单栏出现“解锁”按钮且为灰色，即该组件已被 “user” 用户锁定，“user” 用户为第一个正在对 “testA” 组件进行编辑的用户。\n      ![image-20231219162244387](flow-configuration.assets/image-20231219162244387.png)\n   - 此时 “zs” 用户再进入 “testA” 组件编辑界面时，会出现如下提示弹框，且 “testA” 组件编辑界面菜单栏中涉及编辑操作的按钮都为灰色，“解锁”按钮可使用，此时该组件处于被 “user” 用户锁定状态。\n     ![image-20231219163955493](flow-configuration.assets/image-20231219163955493.png)\n2. 当 “user” 用户正在编辑 “testA” 组件时，“zs” 用户对该组件进行“解锁”操作。\n   - “zs” 用户若要对 “testA” 组件进行编辑，可单击菜单栏“解锁”按钮，“testA” 组件编辑界面会出现如下提示弹框，单击“是”按钮解锁该组件，解锁后会自动退出 “testA” 组件编辑界面，“zs” 用户需重新进入才能锁定并编辑该组件；单击“否”按钮则不对 “testA” 组件进行解锁。\n      ![image-20231219164110043](flow-configuration.assets/image-20231219164110043.png)\n   - 此时若 “user” 用户编辑时还未对 “testA” 组件保存，“testA” 组件编辑界面会出现如下提示弹框，单击“是”按钮则会另存并导出该组件，单击“否”按钮则不保存内容并直接关闭该组件。\n     ![image-20231219162419632](flow-configuration.assets/image-20231219162419632.png)\n     ![image-20231219162543592](flow-configuration.assets/image-20231219162543592.png)\n   - 若“user” 用户编辑时已保存 “testA” 组件，“testA” 组件编辑界面会弹出如下提示弹框，单击“确定”直接关闭该组件编辑界面。\n     ![image-20231219163111800](flow-configuration.assets/image-20231219163111800.png)\n   > **[info]  解锁提示弹框说明**\n   >\n   > 锁定用户手动关闭【流程/组件管理】界面、注销或退出控制台等操作时，成功或异常情况都会弹出提示框说明。\n   >\n   > ![image-20231220145622662](flow-configuration.assets/image-20231220145622662.png)\n   >\n   > 但关闭单个流程或组件窗口时，成功情况不会弹出提示流程/组件解锁成功的提示框，解锁异常仍会提示。\n   >\n   > ![image-20231220145750126](flow-configuration.assets/image-20231220145750126.png)\n## 启用流程操作备注弹框\n该功能已废除，以【流程设计】-“执行限制”弹窗中的“启用流程操作备注弹窗”功能为主。\n## 启用流程任务错误提示\n默认不勾选。\n该功能主要针对自动流程任务，对于执行异常或者正在排队的流程，在界面右下角会有提示弹框弹出。例如【任务配置】界面，在线程被占用，即无空闲机器的情况下，下一自动任务开始执行： \n- 勾选`启用流程任务错误提示`，流程执行失败，且在界面右下角会弹出“执行失败：流程图 XXX 正在执行”的提示弹框。\n- 不勾选`启用流程任务错误提示`，流程执行失败，不会弹出任何弹框。\n## 执行流程前选择机器\n- 勾选：则在执行流程前会弹出提示窗口，为相应的流程节点选择执行的代理；\n- 不勾选：在执行流程时不会弹出提示窗口，默认不勾选。\n## 流程节点运行时禁止重做\n- 勾选：则流程节点正在运行时，右击节点出现的菜单中，“重做”功能会被禁用；\n- 不勾选：则“重做”功能不会被禁用，默认不勾选。\n## 显示流程标签\n该功能只有再基金运营平台才有。勾选`显示流程标签`，则在流程设计界面左边树栏中会显示标签栏，可为指定流程配置流程标签。\n## 显示流程重要等级\n该功能只有再基金运营平台才有。勾选`显示流程重要等级`，则在流程设计界面左边树栏中会显示“重要等级”栏，在增加流程时可同步设置流程的等级，流程的等级并会在“重要等级”栏中显示，等级分为：高、中、低。\n## 节点状态按级别判定\n该功能只有在标准版本才生效。\n- 勾选`节点状态按级别判定`，只有当组件中所设置的指标值的状态为“正常”，在运行流程时，流程节点才会显示正常，其他状态的节点在运行流程时，均显示异常。\n- 不勾选`节点状态按级别判定`，根据流程节点执行状态来判定节点是否异常，默认不勾选。\n## 保存关联流程记录\n默认不勾选。\n- 勾选`保存关联流程记录`，当在【流程设计】界面导出关联流程时，在【关联流程记录】界面会显示导出的关联流程信息；\n- 不勾选`保存关联流程记录`，则在【流程设计】界面导出关联流程时，在【关联流程记录】界面不会显示导出的关联流程信息。\n## 启用全局空闲机器执行\n该功能可全局启用系统中的空闲机器来执行流程，且将流程加入到数据队列执行时，会把原来以流程为颗粒度，改成以节点为颗粒度。\n>**[info] 说明**\n>\n>- 勾选“启用全局空闲机器执行”，流程加入数据队列执行时按节点为颗粒度。\n>- 不勾选“启用全局空闲机器执行”：\n>  - 流程加入数据队列执行时按流程为颗粒度；\n>  - 若勾选流程节点中的“空闲机器执行”，则流程加入数据队列执行时按节点为颗粒度。\n例如：流程 F1 的节点 N1 使用机器 A，流程 F2 的节点 N2 也使用机器 A，流程 F1 /流程 F2 先后加入数据队列，此时若勾选了“启用空闲机器执行”，则流程 F2 立即开始执行，执行到节点 N2 时，等待流程 F1 的节点 N1 执行完成后，才会继续执行；若未勾选“启用全局空闲机器执行”，则流程 F2 等待流程 F1 执行完后，即整个流程执行完成，才会开始执行。\n>**[warning]  注意**\n>\n>&emsp;该功能仅对系统中数据队列的“空闲机器执行”设置启用生效。\n- 勾选`启用全局空闲机器执行`，在以下”数据队列“弹框中，会默认勾选“空闲机器执行”，且不可修改。\n  - 【数据队列】界面新增或修改”数据队列“的弹框中：\n    ![image-20240125195215364](flow-configuration.assets/image-20240125195215364.png)\n  - 【任务配置】界面新增或修改流程任务配置-设置加入数据队列的“数据队列”弹框中：\n    ![](flow-configuration.assets/image-20240125195131731.png)\n- 不勾选`启用全局空闲机器执行`，不会全局启用系统中数据队列的“空闲机器执行”设置，默认不勾选。\n## 流程执行历史记录执行时数据\n该功能记录流程执行时的数据，在【执行历史】界面中可查看流程当时执行时的关联信息。\n> **[warning]  注意**\n>\n> &emsp;只有开启该功能之后执行的流程，在【执行历史】界面中查看才会显示出流程当时执行的关联信息。\n- 勾选`流程执行历史记录执行时数据`，在【执行历史】界面中可显示出流程当时执行的关联信息；\n- 不勾选`流程执行历史记录执行时数据`，则在【执行历史】界面中不会显示出流程当时执行的关联信息，默认不勾选。\n  > **[info]  关联信息包括：**\n  >\n  > - 流程信息：显示流程执行时的版本号。\n  > - 组件信息：单击“查看组件”显示执行时组件的内容和版本号。\n  > - 全局参数：【执行历史】界面右侧工具栏单击“参数”可查看流程参数信息。\n## 流程节点失败时跳过启用产生事件\n流程中组件、操作、引用、嵌套、 批处理节点的节点后连线配置过失败时跳过节点，总流程配置事件为\"节点异常\"时产生事件；当节点异常时，可根据是否打开此开关来控制事件的产生。默认不勾选。\n> **[info]  说明**\n>\n> &emsp;该系统设置在**20240426**及之后的 Server 版本中新增。\n- 勾选`流程节点失败时跳过启用产生事件`，满足下述条件时，实时事件中有异常节点的事件产生。具体操作如下：\n  1. 【流程设计】界面对流程配置组件、嵌套、引用、批处理节点，且各节点均调用了已审核的组件；\n    ![image-20240428194813556](flow-configuration.assets/image-20240428194813556.png)\n  2. 在组件、嵌套、引用、批处理节点的后连线中配置“执行失败时跳过节点”；\n    ![image-20240428195913556](flow-configuration.assets/image-20240428195913556.png)\n  3. 嵌套、引用、批处理内的节点的后连线中也配置“执行失败时跳过节点”；\n    ![image-20240428200313556](flow-configuration.assets/image-20240428200313556.png)\n  4. 总流程配置事件为“节点异常”时产生事件；\n    ![image-20240428200913556](flow-configuration.assets/image-20240428200913556.png)\n  5. 运行流程，当后连线中已配置“执行失败时跳过节点”的节点（包括嵌套、引用、批处理内的已配置节点）运行异常时，可查看到【实时事件】界面产生了事件；\n    > **[warning]  注意**\n    >\n    > &emsp;存在任意一个已配置“执行失败时跳过节点”的节点运行异常，均会在【实时事件】界面产生了事件通知。\n    > ***\n    ![image-20240428201613556](flow-configuration.assets/image-20240428201613556.png)\n    ![image-20240428201713556](flow-configuration.assets/image-20240428201713556.png)\n- 不勾选`流程节点失败时跳过启用产生事件`，满足上述条件时，实时事件中没有异常节点的事件产生。\n## 流程截图存服务器地址\n该功能可设置流程截图保存到服务器所在机器的指定目录下。该功能需与**“流程截图存服务器”**关联使用，若需要保存流程截图到服务器指定目录下，则需要先勾选“流程截图存服务器”。若未勾选“流程截图存服务器”而填写了“流程截图存服务器地址”，则该配置无效，流程截图依然会保存在代理端所在机器。\n> **[info]  说明**\n>\n> &emsp;① 该配置在**20240524**（包含）及之后的 Server 版本中新增。\n>\n> &emsp;② “流程截图存服务器”是将流程截图保存在服务器的 “DBFile/Screenshot” 默认路径下；“流程截图存服务器地址”是可以将流程截图保存在服务器的指定目录下。\n>\n>  &emsp;③ 在“流程截图存服务器”配置项已勾选，且设置了“流程截图存服务器地址”时，则使用【结果截图2】中文函数或者【结果截图】脚本向导函数时，截图会同时保存在服务器指定目录和本地指定路径下。\n该功能配置前，需保证流程已在【流程设计】界面的设计状态下进行了“截图”配置，或者在流程调用的脚本里面已使用结果截图相关函数。下面以在【流程设计】界面配置截图为例，对该配置进行具体操作说明：\n1. 进入【系统设置】页面，勾选“流程截图存服务器”，在“流程截图存服务器地址”配置保存目录。如下图所示，配置为“ C:\\test_测试\\测试001\\2024\\V4.2..1.3 ”。\n   ![image-20240527145645571](flow-configuration.assets/image-20240527145645571.png)\n2. 进入【流程设计】页面，在流程的设计状态下，勾选“执行选项-截图”。\n   ![image-20240527145946322](flow-configuration.assets/image-20240527145946322.png)\n3. 等待流程运行结束，点击“截图”，可以查看流程截图。![image-20240527150315728](flow-configuration.assets/image-20240527150315728.png)\n4. 进入服务器所在机器的 “ C:\\test_测试\\测试001\\2024\\V4.2..1.3” 目录下可查看到流程截图。\n   ![image-20240527150524209](flow-configuration.assets/image-20240527150524209.png)\n## 流程删除前检查\n该功能主要是在删除流程前检查流程是否符合删除条件，符合才能够删除流程，否则将提示无法删除流程。\n默认不勾选。\n - 勾选`流程删除前检查`：用户在具有流程删除权限的情况下，若流程正在执行，或流程在【任务配置】界面中有关联任务，则用户对流程进行删除操作时，将提示无法删除流程，否则，用户能够成功删除流程。\n - 不勾选`流程删除前检查`：用户能够直接对具有删除权限的流程进行删除操作。\n## 流程节点日志自动换行\n该功能主要是用于控制流程节点查看步进日志时，“查看日志”窗口是否默认勾选“自动换行”。勾选“自动换行”后，若日志内容过长，会自动换行显示全部内容。\n> **[info] 说明**\n>\n> &emsp;此配置项在 **2024.07.26** 及之后的 Server 版本中新增。\n默认不勾选。\n - 勾选`流程节点日志自动换行`：用户在流程节点查看步进日志时，“查看日志”窗口默认勾选“自动换行”，若日志内容过长，会自动换行显示全部内容。\n - 不勾选`流程节点日志自动换行`：用户在流程节点查看步进日志时，“查看日志”窗口默认不勾选“自动换行”，若日志内容过长，会显示横向拖动条，不会自动换行显示全部内容；若是需要自动换行显示全部内容，则需要手动勾选“自动换行”。\n   ![image-20240727213531811](flow-configuration.assets/image-20240727213531811.png)\n![image-20240727214025879](flow-configuration.assets/image-20240727214025879.png)\n## 强制等待上一个节点执行完成再执行后续节点\n该功能主要是用于流程“连线”不勾选“执行完成”时，是否需要等待上一个流程节点执行结束后，后续节点才会继续执行。\n> **[info] 说明**\n>\n> &emsp;此配置项在 **2024.07.26** 及之后的 Server 版本中新增。\n默认不勾选。\n - 勾选`强制等待上一个节点执行完成再执行后续节点`：流程“连线”不勾选“执行完成”，执行结果为：上一个流程节点执行结束，后续节点才会继续执行，“连线”才会变绿色通过。\n - 不勾选`强制等待上一个节点执行完成再执行后续节点`：流程“连线”不勾选“执行完成”，执行结果为：上一个流程节点还在执行转圈，后续节点已经继续执行，“连线”已经变绿色通过。\n   ![image-20240727230252383](flow-configuration.assets/image-20240727230252383.png)\n   ![image-20240727230527644](flow-configuration.assets/image-20240727230527644.png)\n## 节点发生系统级异常时自动恢复\n在集群环境下停止其中一台 Server，执行流程偶尔出现编译错误、代理端状态不正确等错误时，可通过勾选此配置项实现自动重置和重连操作，从而保证流程正常执行。\n> **[info] 说明**\n>\n> &emsp;此配置项在 **2024.09.30** 及之后的 Server 版本中新增。\n默认不勾选。\n - 勾选`节点发生系统及异常时自动恢复`：在集群环境下停止其中一台 server，执行流程偶现编译错误、代理端状态不正确等错误时，可以自动重置、重连，从而保证流程正常执行。\n - 不勾选`节点发生系统及异常时自动恢复`：在集群环境下停止其中一台 server，执行流程偶现编译错误、代理端状态不正确等错误时，需手动处理。\n## 检查流程队列异常\n该开关用于检查流程队列是否正常执行。\n> **[info] 说明**\n>\n> &emsp;此配置项在 **2024.10.25** 及之后的 Server 版本中新增。\n默认不勾选。\n - 勾选`检查流程队列异常`：每5分钟检查一次流程队列，排查是否有异常队列。\n - 不勾选`检查流程队列异常`：不检查流程队列（该功能为辅助检查功能，不启用不影响流程队列功能）"
  },
  {
    "text": "# 密码配置\n## 启用复杂密码\n对账户的密码进行复杂度的设置，可以勾选首次登录强制修改密码、密码不包含登录名、密码不包含登录名的连续两字符、包含特殊字符和启用复杂密码等选项。\n若选择启用复杂密码，则可以选择密码长度位数和定期修改密码天数，以及设置不能与历史密码相同的次数和不能包含特定字符，且设置多个不能包含特定字符时，需回车分隔。\n 对密码进行复杂度的设置后，在【用户管理】界面新增人员设置登录密码或修改原有人员的密码时，则会根据【系统设置】-“启用复杂密码”中勾选的密码复杂度选项进行相应的弹框提示。\n## 登陆验证码\n默认不勾选。\n勾选上则登录控制台需要填写验证码，不勾选则不需要填写。\n## 登陆短信验证\n默认不勾选。\n- 勾选此项之前：\n  - 需要在系统设置界面启用短信，并且要配置好短信平台；\n  - 管理员需要配置好手机号；\n  - 普通用户需要配置好手机号 。\n- 勾选此项之后：\n  备机与主机进行数据同步后，若是控制台在主机或者备机所在机器上，则管理员登录此控制台时无需进行短信验证。\n## AES加密\n默认不启用。\n支持自定义加密密钥，主要影响系统加密的功能模块。\n- 勾选：系统加密算法为AES加密；\n- 不勾选：则使用系统默认加密算法。\n## 国密SM加密\n默认不启用。\n支持自定义加密密钥，主要影响系统加密的功能模块。\n- 勾选：系统加密算法为SM加密；\n- 不勾选：则使用系统默认加密算法。\n## 修改Admin密码通知\n可以选择短信和邮件通知，通知人需根据通知类型配置好短信和邮件。\n## 默认密码\n可以选择默认密码、登录名称、随机密码，若选择默认密码，则可以设置默认密码。\n## 批量任务确认密码\n默认勾选。\n勾选则执行批量任务时需要确认密码，不勾选则不需要。\n## 国信登陆动态码验证\n默认不勾选。\n此项仅适用于国信证券。开启时，国信证券的用户登录需要先获取动态码，输入动态码去验证登录。注：需要先启用“系统设置-其他-国信配置”里的“启用SSO认证”功能，并配置相关参数；不开启则无需动态验证登录。\n## 配置密码错误次数\n此功能可配置密码错误次数，当用户登录时，输入密码错误次数达到配置的次数，会自动锁定该用户。当次数设置为0或者为空时，默认错误次数为6次。\n## 启动admin密码错误次数\n基于对 admin（系统管理员）账号安全考虑，防止他人反复尝试密码登陆系统，特开发“启动admin密码错误次数”功能，此功能可限制登录 admin（系统管理员）账号的密码次数。该功能需与“配置密码错误次数”设置搭配使用。\n>**[info]  配置前提**\n>\n>&ensp;使用前需配置“配置密码错误次数”项，可自定义配置，以下示例中配置为3。\n![image-20240110165954027](password-configuration.assets/image-20240110165954027.png)\n- 勾选`启动admin密码错误次数`：\n  当登录 admin（系统管理员）账号时输入错误密码，会弹出密码错误次数和剩余登录次数的提示弹框：\n  > **[info]  提示**\n  >\n  > &ensp;普通用户无此提示弹框。\n  ![image-20240110170111625](password-configuration.assets/image-20240110170111625.png)\n    若输入密码错误次数达到配置的错误次数后，admin（系统管理员）账号会被冻结，并弹出如下提示弹框：\n  >**[warning]  注意**\n  >\n  >- 若 admin（系统管理员）账号被冻结，只能通过手动修改 core 数据库 k_user 表中的 ErrorCount 字段来解除冻结，即当 “ErrorCount \n  >- 只有登陆成功后，登录前输入的密码错误次数才会重置，否则就算退出登录，也会一直记录着未成功登录前输入密码错误的次数。\n  ![image-20240111103214572](password-configuration.assets/image-20240111103214572.png)\n- 不勾选`启动admin密码错误次数`，输入密码错误次数超过3次不会冻结 admin（系统管理员）账号，仅会弹出“用户名或密码错误”提示弹框，默认不勾选。\n  ![image-20240111193609859](password-configuration.assets/image-20240111193609859.png)\n## 登陆短信验证配置\n>**[warning]  注意**\n>\n>&ensp;该配置使用的前提条件是【系统设置】勾选了“登陆短信验证”。\n- **启用内外网区分：**该配置主要用于对内外网环境配置不同的“登陆短信验证”策略， 默认不勾选。勾选“启用内外网区分”后，需配置下方“规则”，符合规则的 IP 视为内网，登陆控制台时不需要短信验证，反之则视为外网，登陆控制台时需要进行短信验证。\n  ![](password-configuration.assets/20241104183732.png)\n  >**[info]  提示**\n  >\n  >&ensp;1. 规则可配置 IP，也可配置网段（如：`192.168.104.*`）；\n  >\n  >&ensp;2. 多个IP/网段用英文分号`;`或换行隔开（如：`192.168.104.*;127.0.0.1`）。\n- **启用六位验证码：**默认不勾选。登陆短信验证码默认为四位验证码，勾选此项后，登陆短信验证码改为六位验证码。"
  },
  {
    "text": "# 控制台\n## 系统风格\n系统风格一般为默认，也可以通过选中，按下 F2 按键来选择系统风格。\n## 用户多实例\n勾选`用户多实例`，则允许同一个用户登录多个控制台，默认勾选；\n不勾选`用户多实例`，则一个用户只能登录一个控制台。\n## 单Licenses登录\n当允许连接服务器的授权里，控制台数量为1且有多个用户时： \n- 勾选`单Licenses登录`，其他用户可以踢掉已登录的用户，即001用户已登录控制台，002用户登录时可以踢掉001用户而成功登录控制台； \n- 不勾`单Licenses登录`，其他用户不可以踢掉已登录用户，而是提示“已经超过控制台授权个数”，即001用户已登录控制台，002用户登录时提示“已经超过控制台授权个数”，从而无法成功登录控制台，默认不勾选。\n## 任务是否全量加载\n- 勾选`任务是否全量加载`，进入【任务配置】界面的时候，自动加载所有的任务，默认勾选；\n- 不勾选`任务是否全量加载`，进入【任务配置】展示空日历界面，单击左边列表的对应的任务才会加载在日历里面。\n  >**[info] 提示**\n  >\n  > &emsp;无论勾选不勾选，每分每秒的任务都是不显示的。\n## 实时任务最小间隔（分钟）\n默认为0。当在此处设置了“实时任务最小间隔”，则在任务-->任务配置-->设置执行完成后 X 分钟执行，X 分钟必须大于该处设置的最小间隔（如此处设置的最小间隔为5分钟，则在任务配置中，设置执行完成后 X 分钟执行的 X，必须大于或等于5），否则会提示“时间间隔不能小于任务最小间隔（5分钟）”\n## 控制台锁定时间\n默认锁定时间为15分钟，按 F2 可进入编辑状态，设置控制台过一段时间不使用就锁住控制台，控制台锁定时间默认为15分钟。\n当时间设置为0时，则表示不锁定。\n## 控制台自动注销\n该功能可设置指定用户的控制台在指定时间后自动注销。\n![image-20240125161439797](console.assets/image-20240125161439797.png)\n在“控制台自动注销”弹框里，配置好相关注销用户和注销时间后，需勾选上“启用注销功能”，该功能才会生效。\n> **[warning]  注意**\n>\n> - 其中“注销时间”项指的是控制台登录后无任何操作的时间，默认为 0，即无注销时间。\n>\n> - 在 2024.01.03 及之后的 Server 版本中“注销时间”由下拉框选择注销时间更新为可自定义填写注销时间。\n>\n>   ![image-20240125165302659](console.assets/image-20240125165302659.png)\n例如：在“控制台自动注销”弹框里，“仅下列用户注销”配置项勾选了“张三”用户，“注销时间”项填写 30 分钟，则“张三”用户登录控制台后 30 分钟内都没有任何操作，则会自动注销控制台。\n![image-20240125170318470](console.assets/image-20240125170318470.png)\n![image-20240125162915942](console.assets/image-20240125162915942.png)\n## 机器信息手动刷新\n新版本已弃用此功能。\n## 用户同步手动刷新\n新版本已弃用此功能。\n## 用户单角色\n- 勾选`用户单角色`，则一个用户只能设置一个角色；\n- 不勾选`用户单角色`，则一个用户可以设置多个角色，默认不勾选。\n## 双柜员审核\n- 勾选`双柜员审核`，则普通用户自己编辑修改的流程、组件、指标和报表不能自己审核；\n- 不勾选`双柜员审核`，则普通用户可以自己审核自身编辑的流程、组件、指标和报表，默认不勾选。\n    >**[warning]  注意**\n    >\n    >&emsp;该功能在20240620及之后的 Server 才支持对流程和组件的控制。\n## 控制台接收所有消息\n需要控制台接收所有消息则勾选，否则不勾选，默认不勾选。旧版的监控需要用到，新版本已弃用。\n## 点X直接退出\n- 勾选`点X直接退出`，单击右上角的 X，退出系统，如：单击控制台右上角的 X，在提示框中“是否要退出软件机器人管理系统？”，单击是，控制台直接关闭，而不是最小化，单击否，则不退出； \n- 不勾选`点X直接退出`，则是最小化系统，默认不勾选。\n## 水印\n单击【点击设置】，勾选“启用”，配置水印格式。配置完成后重启控制台和代理端，即可查看水印效果，默认不启用。（水印格式如：$UserID$,$UserName$,深圳农商银行）\n## 网页WebSocket推送\n勾选`网页WebSocket推送`即开启网页版消息推送模式，开启该模式即消息推送将通过管道方式进行传输，有利于提高消息推送速率、减轻服务器压力。\n默认不勾选。\n## TOPT登录验证\n1. 单击【点击设置】，勾选启用，单击“默认密钥”后方的刷新图标可随机生成默认密钥，单击确定，即启用 `TOPT登录验证`，此时在控制台登录界面，输入用户名和密码后，单击登录按钮，此时会弹出提示“未绑定登录验证，请先使用 FreeOPT 扫描绑定”，单击确定按钮后，会弹出 “TOPT 验证”的二维码，使用手机上安装好的 FreeOPT 软件进行扫描，即可得到验证码，此时再单击二维码下方的确定按钮，在登录界面输入验证码即可成功进入控制台。\n2. 设置误差时长，则在误差时间内，动态验证码有效并登录成功；超过误差时间，动态验证码失败，提示验证码错误（输入新的验证码即可登录）。 \n3. TOPT 标签默认为 K-RPA，可自定义设置标签名称，此处输入的标签名称在 FreeOPT 界面展示。 \n>**[danger] 重要**\n>\n> - FreeOPT 软件可参考下载网址 https://freeotp.github.io/，也可自行百度下载；\n> - 若未使用 FreeOPT 软件扫描二维码时就单击了二维码下方的确定按钮，导致二维码页面消失，此时只需重启控制台，再进行前面的步骤即可重新弹出二维码；\n> - 当在【系统设置】界面设置了 TOTP 登录验证后，最好不要退出当前控制台进行登录验证操作，可以重新启动另一台控制台进行登录验证操作，避免操作失误后无法正常登录进入控制台。\n> 默认不启用该功能。\n## 相同用户登录限制\n- 勾选了`相同用户登录限制`，则同一用户只能在一台机器上登录，且不能同时登录控制台和网页版；\n- 不勾选`相同用户登录限制`，则同一用户登录将不受任何影响，默认不勾选。（只针对普通用户，管理员用户不受影响）\n## 工作台展示所有执行流程\n通过此开关，可配置是否将所有已执行流程展示在【工作台】界面。默认不勾选。\n- 若勾选`工作台展示所有执行流程`：则在【工作台】界面可展示所有执行过的流程。\n- 若不勾选`工作台展示所有执行流程`：则在【工作台】界面仅展示自动任务执行过的流程。\n> **[info]  说明**\n>\n> &emsp;配置任务中执行条件为“服务器启动/用户登陆/特定事件”的流程和任务不展示在【工作台】界面中。\n## 备机登录弹窗提示\n- 勾选了`备机登录弹窗提示`，则主机不在线，控制台登录界面弹窗提示：是否连接到备机；\n  ![image-20241017110755435](console.assets/image-20241017110755435.png)\n- 不勾选`备机登录弹窗提示`，则主机不在线，控制台登录界面无弹窗提示，默认不勾选。\n## 禁用脚本远程调试\n该设置主要对脚本编辑界面中的“远程调试”功能进行显示权限控制。\n- 勾选`禁用脚本远程调试`，在脚本编辑界面单击“运行”后，无“远程调试”功能使用。\n  ![image-20231130114600938](console.assets/image-20231130114600938.png)\n- 不勾选`禁用脚本远程调试`，在脚本编辑界面单击“运行”后，可使用“远程调试”功能，默认不勾选。\n  ![image-20231130113744003](console.assets/image-20231130113744003.png)\n## 禁用控制台显示IP\n该功能禁止用户登录控制台时设置显示 IP，主要解决对【权限管理】-【角色管理】-“登录限制”-勾选“启用黑名单（或白名单）”-在黑名单（或不在白名单）列表下的机器登录时通过设置 “显示IP” 栏进入控制台的问题。\n- 勾选`禁用控制台显示IP` ，有以下两种情况:\n  - 用户未设置显示 IP：用户登录控制台时，“显示IP” 栏被隐藏无法设置。\n    ![](console.assets/image-20231228152253974.png)\n  - 用户已设置显示 IP：用户登录控制台时，会弹出 “禁用显示IP” 提示弹框，此时需清空 “显示IP” 栏才能正常登录控制台。\n    >**[warning]  注意**\n    >\n    >&emsp;对于【权限管理】-【角色管理】-“登录限制”-勾选“启用黑名单（或白名单）”-在黑名单（或不在白名单）列表下的机器即使清空 “显示IP” 栏也无法正常登录控制台。\n    ![](console.assets/image-20231228152953903.png)\n    ![](console.assets/image-20231228152453216.png)\n- 不勾选`禁用控制台显示IP` ：用户登录控制台时不禁用 “显示IP” 栏，默认不勾选。\n## 优化流程消息推送\n该功能可优化流程消息的推送。\n- 勾选`优化流程消息推送`：简化了流程消息推送，主要解决当大量流程执行时，因流程消息推送而导致  Server 卡顿的问题。\n- 不勾选`优化流程消息推送`：不简化流程消息推送，默认不勾选。\n## 不主动推送消息到控制端\n该功能主要针对 Server 广播的消息（如：代理连接、流程执行以及告警通知等消息）不主动推送到控制端。\n- 勾选`不主动推送消息到控制端`：不会主动向控制端推送消息，主要解决当大量 Control 端连接 Server 时，因消息推送而导致 Server 卡顿的问题。\n- 不勾选`不主动推送消息到控制端`：会主动向控制端推送消息，默认不勾选。"
  },
  {
    "text": "# 获取差异配置\n该功能主要用于获取【系统设置】界面中所有现有值与默认值不一致的配置项。单击“获取差异配置”按钮获取发生变化的配置项后，功能变为“隐藏差异配置”按钮，单击可重新隐藏发生变化的配置项。\n![image-20231130143554622](obtaindifferential-configuration.assets/image-20231130143554622.png)\n单击`获取差异配置`后，【系统设置】界面说明：\n- 界面新增“默认值”显示列，其中“数值”为现有值配置列，允许更改，“默认值”列仅可查看配置。\n- 界面中红色为现有值与默认值不一致的配置项，灰色为无默认值的配置项。\n- 当默认值发生变化时，配置项中的值仍为原值。\n- 若分组下无发生变化的配置项，分组名称也不会显示在界面上。\n>**[warning]  “颜色配置”分组说明**\n>\n>- 当颜色配置分组下的配置项不是默认值时，显示为配置项中的颜色。\n>- “正常告警颜色”配置项的值没有发生变化仍会显示在界面上，更改配置项的值后再恢复默认值可将该配置项隐藏。"
  },
  {
    "text": "# 指标配置\n## 指标短信格式\n在【资源池】界面对指标配置了短信通知，则指标执行完后，短信会以此处配置好的格式发送出去。\n## 指标邮件格式\n在【资源池】界面对指标配置了邮件通知，则指标执行完后，邮件会以此处配置好的格式发送出去。\n## 操作单次执行\n默认不勾选。\n- 勾选时操作每执行一次都会释放， 不会记住上次执行的信息；\n- 不勾选则会记住上一次的执行信息。\n## 指标值实时汇总\n默认不勾选。\n如果要记录明细数据，在 server 目录下 config.ini 文件中新增如下字段：\n```\n [Collect] \n Time=10     # 间隔10分钟存库一次\n Detail=1    # 是否存明细数据，1：表示是；0：表示否\n```\n勾选`指标值实时汇总`->在【资源池】界面中选中需要进行指标汇总的机器，开启或关闭需要进行指标值实时汇总的应用指标->在 ”k_target_collect“ 表中，将会记录指标的明细信息。\n## 启用指标批量提交\n默认不勾选。\n- 勾选：若脚本里有多个虚拟指标则会一次性提交，功能同中文脚本函数“开始批量提交”；\n- 不勾选：脚本里的多个虚拟指标将会一个一个提交。\n## 启用指标本地保存\n默认不勾选。\n当勾选“启用指标本地保存”，将会把每天跑过的指标信息保存到 “Agent\\Logs\\TraceXXX.db” 路径下。\n## 禁用指标监控\n默认不勾选。\n当勾选“禁用指标监控”，则连接该服务器的所有代理将接收不到任何指标，如若某台代理需要接收指标，则需要在代理端勾选“启用指标监控”。\n>**[warning] 注意**\n>\n> &emsp;当启用了指标监控，代理端需要重启才能生效。\n## 采集策略失效时清除虚拟指标\n默认勾选。\n勾选在采集策略里进行了采集策略的配置后，在采集策略失效的期间，若有虚拟指标则会被清除掉，否则不会清除虚拟指标。\n>**[warning] 注意**\n>\n> &emsp;此开关设置完后必须要重启代理端才会生效。\n## 最大指标值长度\n默认长度为512，可自定义修改。在这里可以设置指标值的最大长度，设置好后指标的数据里面不能超过最大值。如设置521，则 数据 = 'zxzzzzz......' ，最长521K。\n## 禁用基础库里的组件\n默认不勾选，该功能作用是启用或禁用基础库里的组件。\n- 当勾选`禁用基础库里的组件`，则基础库里的组件不能被查看和调用（ admin 用户除外）；\n- 当不勾选`禁用基础库里的组件`，则将保持现有的状态。\n## 重启代理恢复指标状态\n默认不勾选。\n- 勾选在控制台【机器人管理】菜单或代理端主界面进行重启代理后会恢复指标之前的状态；\n- 不勾选则不会恢复指标之前的状态。\n## 指标运行时保存截图\n默认不勾选。\n- 勾选指标运行的同时会保存运行脚本时的结果截图；\n- 不勾选则不保存结果截图。\n## 更新指标执行时间\n默认不勾选。\n- 当勾选`更新指标执行时间`时，指标执行的时间会一直刷新；\n- 当不勾选`更新指标执行时间`，则只有当虚拟指标提交数据时指标的执行时间才会进行刷新，否则需要手动点击刷新。\n  >**[info] 提示**\n  >\n  > &emsp;在【指标视图】和【指标监控】界面可查看到指标每次执行的最新时间。\n## 推送指标数据流\n默认不勾选。\n每次从服务器推送到控制台的数据流的包都是很大的，一般需要监控的时候才会勾选，否则都是不勾选的。\n## 短信过滤编译运行错误\n默认不勾选。\n勾选则一个脚本出现异常，如果是出现编译运行错误，则会不发送短信出去，不勾选则会发送。\n## 指标分类显示\n默认勾选。\n勾选指标会进行分类显示出来，不勾选则不会分类显示。\n## 机器属性\n设置备注1，备注2，备注3的属性值，设置好后在机器信息、对象设置/资源池的设备属性里可以查看到设置好的值取代了备注1，备注2，备注3。\n## 组件立即生效并发\n可以配置同时生效多少个 agent，默认值为10。\n## 禁用组件立即生效\n默认不勾选。\n- 勾选：单击组件的“立即生效”按钮会提示“组件立即生效”功能已禁用；\n- 不勾选：则组件可以正常进行立即生效操作。\n## 指标描述显示告警策略异常规则\n默认不勾选。\n指标配置了告警策略，当指标由于告警策略而触发告警时：\n- 勾选则可以在管理视图对应的指标的描述中查看到触发告警的具体策略；\n- 不勾选则不可以在管理视图对应指标的描述中查看到触发告警的具体策略。\n## 组件在不同分组可以重名\n默认不勾选。\n- 勾选时，组件就可以在不同的分组下以同样的名称存在；\n- 不勾选时，组件在不同分组下重名会提示组件已经存在，组件和分组不能重名。\n## 组件高危命令\n在“高危组件命令”窗口的文本框中分别输入Linux Shell 、Autolt、PowerShell、Python、中文脚本、Bat、YAML、Js、脚本向导、VBS脚本的高危命令，如下图所示：\n![image-20230606103325152](target-configuration.assets/image-20230606103325152.png)\n1. 对含有高危命令的组件，勾选“审核启用”并配置“指定审核人”，则只有指定审核人才可以审核该组件，且会有高危命令提示框弹出。\n2. 对含有高危命令的组件，勾选“审核启用”但不配置“指定审核人”或者不勾选“审核启用”，则所有用户都可以审核该组件，且会有高危命令提示框弹出。\n3. 对含有高危命令的组件，勾选“运行启用”并配置运行通知人、勾选“短信”或者“邮件”，则所有用户执行该组件时都会发送短信或者邮件给指定的运行通知人。\n    > **[warning] 注意**\n    >\n    >  &emsp;在进行短信或邮件通知的前提是，需要配置好短信和邮件的环境。\n4. 对含有高危命令的组件，以下两种情况，所有用户执行该组件时，都不会发送短信或邮件：\n   - 不勾选“运行启用”；\n   - 勾选“运行启用”并配置运行通知人，但是不勾选“短信”或“邮件”。\n5. 对未含有高危命令的组件，该处的设置对组件的审核和执行无任何影响。\n## 指标直接入库\n默认不勾选。\n若勾选，则指标不对逻辑进行处理，直接入库，使入库时间缩短，若不勾选，则指标会先进行逻辑处理，然后再入库，入库时间较长。若数据量过大，可以勾选“指标直接入库”，缩短入库时间。\n## 全局变量分组在不同分组可以重名\n- 勾选：则全局变量分组可以在不同的分组下以同样的名称存在；\n- 不勾选：则全局变量分组在不同分组下重名会提示分组已经存在。\n## 指标微信格式\n在【资源池】里配置了指标短信通知，则指标执行完后，微信会以此处配置好的格式发送出去。\n## 指标通知忽略提交历史\n如果当前指标已经处于严重级别，则此时对指标配置严重级别发送邮件和短信通知操作时，会发现配置不生效，即当前指标处于严重级别，也不会发送短信和邮件通知。\n通过勾选“指标通知忽略提交历史”，可解决此问题，即勾选此开发后，在指标已经处于严重级别时，配置严重级别发送邮件和短信通知是可以生效的。\n## 向导交互函数用户参数必填\n默认不勾选。\n“向导交互函数用户参数必填”配置项主要是对交互函数“用户”参数进行必填权限控制。\n> **[info]特别说明**\n>\n> - “向导交互函数用户参数必填”配置项只针对脚本向导使用。\n> - 目前该配置项只对“消息框”、“自定义输入”、“输入对话框”、“选择文件”、“选择文件夹”这5个交互函数使用有效。\n- 勾选：在执行交互函数时，“用户”参数栏必须填写，否则组件运行失败，提示用户不能为空；\n  ![image-20230627095715852](target-configuration.assets/image-20230627095715852.png)\n- 不勾选：在执行交互函数时，“用户”参数栏可为空。\n## 指标暂停\n该功能可暂停执行中的指标，默认不勾选。\n- 勾选`指标暂停`：勾选启用后，在【管理视图】和【机器视图】界面上方按钮区域新增“显示暂停指标”单选项，信息列表中新增“暂停”、“暂停类型”、“暂停结束时间”显示列。\n  ![image-20231116165837901](target-configuration.assets/image-20231116165837901.png)\n  **按钮说明：**\n  - “显示暂停指标”：在【管理视图】/【机器视图】界面勾选该功能后，展开的指定机器指标分组下仅显示暂停的指标。\n  - 显示列中“暂停”：单击指定指标“暂停”按钮，可设置暂停的时间方式和暂停类型。\n    - 暂停采集：指标在暂停时间内停止执行且不产生事件。\n    - 暂停产生事件：指标在暂停时间内仍然执行，但不产生事件。\n    ![image-20231116171358979](target-configuration.assets/image-20231116171358979.png)\n- 不勾选`指标暂停`：在【管理视图】和【机器视图】界面无法暂停执行中的指标。\n## 支持设置基础函数黑名单\n该功能支持对指定角色及其嵌套角色设置基础函数黑名单，设置后，角色下的用户无法查看和使用在黑名单内的基础函数，只能查看到基础函数的分组，默认不勾选。\n操作说明如下：\n1.勾选“支持设置基础函数黑名单”系统设置\n在【系统设置】-“指标配置”分组下勾选“支持设置基础函数黑名单”项。\n![image-20231110172426629](target-configuration.assets/image-20231110172426629.png)\n2.对“测试”角色设置“基础函数黑名单”功能\n在【角色管理】界面，对“测试”角色下的所有用户设置“基础函数黑名单”，如下图所示，单击“基础函数黑名单”设置，勾选需要加入到黑名单的基础函数：\n> **[warning]  注意**\n>\n> &emsp;【角色管理】界面增加嵌套角色时，上级角色设置了“基础函数黑名单”，其嵌套角色也会继承上级角色设置的“基础函数黑名单”权限。\n![image-20231110173440925](target-configuration.assets/image-20231110173440925.png)\n3.查看黑名单内的基础函数\n设置基础函数黑名单后，“测试”角色下用户登录控制台后，打开【组件管理】界面，此时该用户只能看到基础库下的“函数”分组，无法查看和使用该分组下的函数。\n![image-20231110174748846](target-configuration.assets/image-20231110174748846.png)\n## 关闭指标备机\n该设置用于关闭指标执行代理的备机功能，勾选开启后可以加快代理连接速度，默认不启用该功能。\n- 勾选`关闭指标备机`，【资源池（对象管理）】界面中指标选择代理时会关闭备用代理窗口，只显示主代理窗口，如下图所示：\n  > **[info]  说明**\n  >\n  > &emsp;在勾选关闭指标备机之前，若指标代理端已选择主代理和备用代理，且主代理机器已断开，此时勾选使用关闭指标备机，则指标的代理端中备用代理机器会更新为主代理机器。\n  ![image-20231201094717697](target-configuration.assets/image-20231201094717697.png)\n- 不勾选`关闭指标备机`，【资源池（对象管理）】界面中指标选择代理时可选择备用代理，默认不启用关闭指标备机功能。\n  ![image-20231201094613254](target-configuration.assets/image-20231201094613254.png)\n## 启用基础函数数据权限\n该功能支持对指定角色及其嵌套角色设置表权限授权，同时还可控制基础函数使用数据权限，目的是为了防止他人使用基础函数组件（包括中文脚本和脚本向导）调用其他无权限的资源数据。\n- 该功能支持对指定角色及其嵌套角色设置表权限授权，勾选后，用户仅可以对有权限的表资源进行查看、修改或删除操作，不勾选则不做表资源权限控制，默认不勾选。\n  操作说明如下：\n  1. 勾选“启用基础函数数据权限”系统设置\n     在【系统设置】-“指标配置”分组下勾选“启用基础函数数据权限”项。\n     ![image-20240122144955897](target-configuration.assets/image-20240122144955897.png)\n  2. 对“测试”角色设置“表权限授权”功能\n     > **[info]  提示**\n     >\n     > &emsp;只有勾选【系统设置】-“指标配置”分组下的“启用基础函数数据权限”项，才能在【角色管理】界面显示“表权限授权”项。\n     在【角色管理】界面，对“测试”角色下的所有用户设置“表权限授权”，如下图所示，单击“表权限授权”设置，在“表资源设置”弹框中勾选数据库下的 “k_agent” 和 “k_agent_group” 表。\n     > **[warning]  注意**\n     >\n     > &emsp;勾选表名左边方框即设置该表的查询权限，勾选表名后方的“修改”方框即设置该表的修改和删除权限。\n     ![image-20240123092040440](target-configuration.assets/image-20240123092040440.png)\n  3. 查询及操作数据库表。\n     设置表权限授权后，“测试”角色下的用户使用中文脚本【查询内存库】、【执行数据库】（或脚本向导【查询数据库】、【执行数据库】）等函数时，若无表权限，编译后会出现对应的提示，如下图所示：\n     ![image-20240122161108000](target-configuration.assets/image-20240122161108000.png)\n- 该功能支持对用户使用基础函数组件时进行数据权限控制，勾选后，用户使用基础函数时仅可对有数据权限的资源做操作，不勾选则不对基础函数做数据权限控制，默认不勾选。如：当前 A 用户无 “B” 报表的任何权限，则该用户不可通过调用相关函数组件来直接操作 “B” 报表。\n  具体操作如下：\n  1. 勾选“启用基础函数数据权限”系统设置\n     在【系统设置】-“指标配置”分组下勾选“启用基础函数数据权限”项。\n     ![image-20240122144955897](target-configuration.assets/image-20240122144955897.png)\n  2. 对“测试”角色不设置报表权限\n     在【角色管理】界面，对“测试”角色下的所有用户不赋予任何报表权限，如下图所示：\n     >**[info]  说明**\n   >\n     >&emsp;包括但不限于下图举例的资源相关函数，示例中以报表资源作为例子。\n   >\n     >![image-20240123101340355](target-configuration.assets/image-20240123101340355.png)\n     ![image-20240122174534485](target-configuration.assets/image-20240122174534485.png)\n  3. 执行函数组件\n     “测试”角色下的用户登录控制台，在【组件管理】界面，使用中文函数“报表取数2”对无权限的报表进行操作，此时单击“保存”或“编译”按钮会弹出无编辑权限的提示框，如下图所示：\n     > **[warning]  注意**\n     >\n     > &emsp;出现此类提示框时，该组件无法保存成功或无法审核通过。\n     ![image-20240122175240677](target-configuration.assets/image-20240122175240677.png)\n## 指标过滤编译运行错误\n该功能用于过滤指标事件推送。开启该配置项后，若事件类别为“内部事件”，数值为“运行错误”时，则不推送该事件，即指标出现类别为“内部事件”，数值为“运行错误”时，工作台告警列表、事件查询中均无该事件的告警记录。\n> **[warning]  注意**\n>\n> &emsp;该配置项仅对 Windows 代理有效。\n![指标过滤编译运行错误](target-configuration.assets/指标过滤编译运行错误.png)\n## 同名组件无权限禁止导入\n默认不勾选。\n- 若勾选，普通用户在【组件管理】界面导入无权限的同名分组或组件，将提示“存在同名组件xxx且没有导入权限，禁止导入”，组件无法导入。该功能配置后可避免用户导入无权限的同名组件，覆盖原同名组件，从而能对原组件进行增删改操作。\n  例如：【角色管理】界面，用户角色的“组件权限”，没有勾选分组 A 和组件 B，即无权限；用户登陆控制台，在【组件管理】界面导入组件，勾选的组件中包含无权限的同名分组 A 或同名组件 B，单击“确定”，出现弹窗提示“存在同名组件xxx且没有导入权限，禁止导入”。\n- 不勾选，则用户能够导入无权限的同名组件。\n> **[warning]  注意**\n>\n> &emsp;若同时勾选`同名组件无权限禁止导入`、`组件在不同分组可以重名`，则`同名组件无权限禁止导入`不生效。\n## 流程无权限禁止导入\n默认不勾选。\n- 若勾选，普通用户【流程设计】界面，导入无权限的同 ID 分组或流程，将提示“流程xxx没有导入权限，禁止导入”，流程无法导入。该功能配置后可避免用户导入无权限的同 ID 分组下的流程或者同 ID 流程，覆盖原同 ID 流程，从而能对原流程进行增删改操作。\n  例如：【角色管理】界面，用户角色的“流程权限”，没有勾选流程分组 A(ID1) 和流程 B(ID2)，即用户没有流程分组 A(ID1) 和流程 B(ID2) 的流程权限。用户登陆控制台，在【流程设计】界面导入流程，勾选的流程中包含无权限的同 ID1分组或同 ID2 流程，单击“确定”，出现弹窗提示“流程xxx没有导入权限，禁止导入”。\n- 不勾选，则用户能够导入无权限的同 ID 分组或流程。\n> **[warning]  注意**\n>\n> &emsp;使用交行运营平台 logo，勾选此项配置后，除了禁止导入无权限的同 ID 分组或流程，还禁止导入无权限的同名分组（不包括同名流程）。\n>\n> - 勾选时导入无权限的同名分组：\n>   用户在【流程设计】导入同名分组，单击“确定”，出现弹窗提示“流程分组xxx没有导入权限，禁止导入”。\n>\n> - 勾选时导入有权限的同名分组：\n>   ① 用户在【流程设计】导入同名不同 ID 的分组，单击“确定”，出现弹窗提示“流程分组xxx没有导入权限，禁止导入”。   \n>   ② 用户在【流程设计】导入同名同 ID 的分组，单击“确定”，出现弹窗提示”导入完成“。\n>\n> - 不勾选，则用户能够导入无权限的同名或同 ID 的分组，以及同 ID 流程。"
  },
  {
    "text": "# AI识别参数配置\n## 多票据识别\n填写多票据识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 多票据识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 表格识别\n填写表格识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 表格识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 身份证识别\n填写身份证识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 身份证识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 营业执照识别\n填写营业执照识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 营业执照识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 驾驶证识别\n填写驾驶证识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 驾驶证识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 通用文本识别\n填写通用文本识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 通用文本识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 银行回单识别\n填写银行回单识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 银行回单”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 人脸识别\n填写人脸识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 人脸识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 身体关键点识别\n填写身体关键点识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 身体关键点识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 图像纠偏\n填写图像纠编的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 图像纠编”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 图像抠图\n填写图像抠图的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 图像抠图”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 图像增强\n填写图像增强的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 图像增强”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 图像相似度\n填写图像相似度的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 图像相似度”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 身份证质量检测\n填写身份证质量检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 身份证质量检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 滑动验证码\n填写滑动验证码的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 滑动验证码”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 计算验证码识别\n填写经计算验证码识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 计算验证码识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 简单验证码识别\n填写简单验证码识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 简单验证码识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 复杂验证码识别\n填写复杂验证码识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 复杂验证码识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 消消乐验证码\n填写消消乐验证码的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 消消乐验证码”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 词性标注\n填写词性标注的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 词性标注”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 命名实体识别\n填写命名实体识别的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 命名实体识别”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 情感分类\n填写情感分类的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 情感分类”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 文本翻译\n填写文本翻译的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 文本翻译”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 文本分词\n填写文本分词的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 文本分词”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 语义相似度\n填写语义相似度的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 语义相似度”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 人脸检测\n填写人脸检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 人脸检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 证件检测\n填写证件检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 证件检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 车牌检测\n填写车牌检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 车牌检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 印章检测\n填写印章检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 印章检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 动作检测\n填写动作检测的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 动作检测”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 语音转文字\n填写语音转文字的账号和密码。在使用中文脚本或脚本向导中的 “KRPA 语音转文字”函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 带颜色验证码\n填写带颜色验证码的账号和密码。在使用中文脚本或脚本向导中的 “KRPA带颜色验证码” 函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。\n## 九宫格验证码\n填写九宫格验证码的账号和密码。在使用中文脚本或脚本向导中的 “KRPA九宫格验证码” 函数前，需先在此处设置账号和密码，账号和密码由 AI 部人员提供。"
  },
  {
    "text": "# 事件推送\n## 事件Syslog推送\n默认不启用。\n这是一种接口，进行事件 Syslog 配置后，则在产生事件的时候，则会往某个地址推送事件到对应的系统，事件内容是根据我们填写的模板推送出去的。\n 使用方法： \n1. 准备两台 Server，一台作为推送 Server，另一台作为接收 Server。\n2. 使用一台控制台连接推送 Server，然后在推送控制台的【资源池】中配置指标。\n3. 打开【系统设置】-”事件推送“-”事件 Syslog 推送“，点击设置，在弹出框 “Syslog 配置”中进行以下配置：\n   - 勾选启用，然后配置IP地址和端口（注意：此处的 IP 地址为接收 Server 的 IP 地址，端口为接收 Server 开启“日志服务”的端口）。\n   - 根据需求勾选推送事件的级别。 \n   - 根据需求填写正则筛选，如配置了名称分别为“事件推送”、“测试推送”、“过滤推送”三个指标，现在要过滤掉名称为“测试推送”的指标，则正则筛选填写为：{^(.*测试推送*)}{}{}，多个筛选条件可换行分隔 。\n   - 模板：表示事件推送时对指标事件的描述。\n4. 在接收 Server 的配置界面，勾选启用“日志服务”，端口可自定义设置，也可使用默认端口514，单击确定后，启动接收 Server。\n5. 使用一台控制台连接接收 Server，打开【监控巡检】-【系统日志】界面，即可查看到推送的事件信息，“测试推送”指标事件被过滤，在【系统日志】界面查看不到该指标事件。\n## 指标Syslog推送\n默认不启用。\n这是一种接口，启用并进行指标 Syslog 配置后，在产生指标的时候，则会往某个地址推送指标到对应的系统，指标内容是根据我们填写的模板推送出去的。\n选择指标：勾选`选择指标`后，单击后方文件夹按钮可选择指定推送应用的指标。默认不启用，即推送所有应用的指标。\n> **[warning]  注意**\n>\n> &emsp;①  此功能在 2024.01.02 及之后的 Server 版本才能选择到指标层级，原版本只能选择到应用层级;\n>\n> &emsp;② 在 2024.07.27 及之后的 Server 版本，支持批量选择不同设备下的相同指标或者相同应用功能。\n>\n> ​\t\t![](event-push.assets/屏幕截图 2024-07-23 113101.png)\n>\n> ​\t\t ![](event-push.assets/屏幕截图 2024-07-23 113341.png)\n![image-20240118192034030](event-push.assets/image-20240118192034030.png)\n选择指定推送应用的指标后，在接收方系统机器上的【监控巡检】-【系统日志】界面可看到推送过来的指标信息，如下图所示：\n![img](event-push.assets/d8bddfa2-d9da-44b2-8949-367f11354bba.png)\n③ 在**2024.09.19 及之后**的 Server 版本，支持内存表转字符串功能。当指标内容为内存表类型时，若勾选此选项，则不以 “MemoryTable” 的形式推送，而是转为字符串格式推送，即推送的数据为实际值，反之亦然。\n![image-20240919105953763](event-push.assets/image-20240919105953763.png)\n勾选内存表转字符串，指标 Syslog 推送显示实际值\n![image-20240919110514556](event-push.assets/image-20240919110514556.png)\n## 指标提交方式\n1. 通过 KCAOM 方式提交指标或者操作，这种是自动化系统选择的方式。\n   勾选提交“指标”时：\n   - 若勾选“全部”，则所有的指标都会进行提交，过滤指标功能将不生效。\n   - 若选择“过滤应用”，则单击文件夹图标，在”选择应用“弹框中选择需要过滤掉的指标，选中的指标将不能进行提交，该指标的相关信息将全部过滤掉，在【管理视图】界面将看不到与之相关的任何信息。\n     >**[info]  提示**\n     >\n     >&emsp;若已勾选了“全部”，则在选择“过滤应用”时，会自动取消勾选“全部”。\n     ![image-20240118192348855](event-push.assets/image-20240118192348855.png)\n2. 通过 HTTP 方式提交指标或者操作，这是要提交给监控那边进行对接才会选择的方式，可选择默认推送也可选择自定义推送，该方式的过滤指标方式与 KCAOM 方式一样。推送记录可在 agent 日志中查看。\n   > **[warning]  注意**\n   >\n   > &emsp;若使用 HTTP 方式提交指标，需取消勾选 “生成kcmin.host文件” 设置项，且删除本地 “kcmin.host” 配置文件，否则无法推送到指定地址。\n   勾选提交“指标”时：\n   - 若勾选“全部”，则所有的指标都会进行提交，过滤指标功能将不生效。\n   - 若选择“过滤应用”，则单击文件夹图标，在”选择应用“弹框中选择需要过滤掉的指标，选中的指标将不能进行提交，该指标的相关信息将全部过滤掉。\n     >**[info]  提示**\n     >\n     >&emsp;若已勾选了“全部”，则在选择“过滤应用”时，会自动取消勾选“全部”。\n     ![image-20240118202359132](event-push.assets/image-20240118202359132.png)\n   - 地址：填写推送指标/操作的第三方地址。\n3. 输出配置信息日志。\n   > **[info]  说明**\n   >\n   > &emsp;此功能在 2023.12.19 及之后的 Server 版本中才有。\n   在【机器人日志】界面的“已连接客户端”分组下找到对应的代理机器，可查看“指标提交方式”的配置信息日志，若执行代理被停用，也会输出停用日志，如下图所示。\n   >**[warning]  注意**\n   >\n   >&emsp;仅支持 Windows 代理。\n   ![image-20231228172158022](event-push.assets/image-20231228172158022.png)\n## EIS对外集成服务\n默认不启用。\n这是一种接口，进行 EIS 配置后，则在产生事件的时候，则会往某个地址推送事件到对应的系统，事件内容是根据我们填写的模板推送出去的。\n## 事件Url推送\n默认不启用。\n事件 Url 推送配置后，会把事件推到配置的 URL 地址。\n勾选“启用”方可进行事件推送，若要在【服务器日志】中查看推送日志，则需要勾选“添加推送日志”，若不勾选“添加推送日志”，将无法在【服务器日志】查看相关的推送日志。\n推送模式是指 HTTP 推送方式，支持模式切换主要是为了兼容更多运用场景。该模式分为“默认模式”和“旧版推送模式”两种，目前仅 Win Server 支持两种模式的切换使用。一般情况下默认使用“默认模式”，若出现字符集或者其他推送问题，则可选择“旧版推送模式”。\n- “默认模式”：使用 indy 控件、 UTF-8 字符集推送，并增加了默认超时；\n- “旧版推送模式”：旧版本使用的推送模式，此处旧版指的是不支持推送模式切换功能时使用的版本。 \n>**[warning]  注意**\n>\n>&emsp;① 推送模式支持切换两种模式的功能是在 **2024.05.24** 及之后的 Server 版本中新增，且两种模式的切换功能仅适用于 Windows 平台。\n>\n>&emsp;② 对于 Linux Server 和 Arm Server，均使用“默认模式”。\n启用“事件Url推送”功能，并勾选“添加推送日志”的具体操作和效果如下：\n1. 在事件 Url 推送界面，勾选“启用”、“添加推送日志”，配置好相关参数。\n   > **[info]  说明**\n   >\n   > &emsp;参数中`{$用户名}`传递的数据来源于【流程设计】界面勾选的“事件”-“事件通知”弹框中的“用户名参数”项的值。\n   >\n   > ![image-20231019141011058](event-push.assets/image-20231019141011058.png)\n2. 进入【流程设计】界面，勾选“事件”，在“事件通知”弹框中勾选“执行失败”（也可根据个人所需选择触发事件通知的流程执行状态，如执行失败等）。\n3. 保存、审核并执行流程，待流程执行完成后，在服务器日志中可查看到事件的推送日志。\n## 事件数据库推送\n默认不启用。\n事件数据库推送配置后，每产生一条事件，就插入到用户配置的数据库里。\n## ITIL配置\n进行事件转 ITIL 配置后，在首页里的事件处理可以转 ITIL。\n## 事件WEBSERVICE推送\n默认不启用。\n事件 WEBSERVICE 推送配置后，会把事件推到配置的 URL 地址。\n## 处理事件不推送URL\n默认不勾选。\n- 勾选：则处理事件不会再自动推送到 url；\n- 不勾选：则产生和处理事件都会推送到 URL。"
  }
]